<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>v4.0.38 Release Notes | Documentation</title>
    <meta name="description" content="ServiceStack Docs">
    <link rel="stylesheet" href="/assets/style.5867b24d.css">
    <link rel="modulepreload" href="/assets/Home.6134f431.js">
    <link rel="modulepreload" href="/assets/TypeSenseDialog.fdc375ae.js">
    <link rel="modulepreload" href="/assets/KeyboardEvents.ed5ef1ba.js">
    <link rel="modulepreload" href="/assets/app.da189b1e.js">
    <link rel="modulepreload" href="/assets/releases_v4_0_38.md.1c236aa0.lean.js">
    <link rel="modulepreload" href="/assets/app.da189b1e.js">
    <script src="/custom.js"></script>
    <meta name="twitter:title" content="v4.0.38 Release Notes | Documentation">
    <meta property="og:title" content="v4.0.38 Release Notes | Documentation">
  </head>
  <body>
    <div id="app"><div><!----><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Documentation, back to home" data-v-675d8756 data-v-4a583abe><!----> Documentation</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://servicestack.net/whatsnew" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>What&#39;s New <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/templates-overview" data-v-b8818f8c>Project Templates <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/autoquery" data-v-b8818f8c>AutoQuery <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/auth" data-v-b8818f8c>Security <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/grpc" data-v-b8818f8c>gRPC <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/ormlite/" data-v-b8818f8c>OrmLite <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/redis/" data-v-b8818f8c>Redis <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/ServiceStack/docs" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--[--><button class="flex rounded-full p-0 bg-gray-100 border-solid border-gray-100 text-gray-400 cursor-pointer hover:border-green-400 hover:bg-white hover:text-gray-600"><svg class="w-7 h-7 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16l2.879-2.879m0 0a3 3 0 104.243-4.242 3 3 0 00-4.243 4.242zM21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="text-lg mr-1">Search</span><span style="opacity:1;" class="hidden sm:block text-gray-400 text-sm leading-5 py-0 px-1.5 my-0.5 mr-1.5 border border-gray-300 border-solid rounded-md"><span class="sr-only">Press </span><kbd class="font-sans">/</kbd><span class="sr-only"> to search</span></span></button><!--]--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://servicestack.net/whatsnew" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>What&#39;s New <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/templates-overview" data-v-b8818f8c>Project Templates <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/autoquery" data-v-b8818f8c>AutoQuery <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/auth" data-v-b8818f8c>Security <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/grpc" data-v-b8818f8c>gRPC <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/ormlite/" data-v-b8818f8c>OrmLite <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/redis/" data-v-b8818f8c>Redis <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/ServiceStack/docs" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Overview</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/why-servicestack">Why ServiceStack</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/architecture-overview">Architecture Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/servicify">Servicify existing Systems</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/explore-servicestack">Explore ServiceStack</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Releases</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/releases/v6">Latest Release Notes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/release-notes-history">Release Notes History</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/myget">Pre-release MyGet Packages</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Getting Started</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/create-your-first-webservice">Create your first WebService</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/your-first-webservice-explained">Your first WebService explained</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/api-design">Service API Design</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/service-return-types">Service Return Types</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/design-rest-services">Design RESTful Services</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/design-message-based-apis">Design Message-based APIs</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/modular-startup">Modular Startup</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/navigation">Unified Navigation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/dotnet-tool">dotnet tool - Win/Mac/Linux Utility Belt</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-windows-desktop">app tool - .NET Core Windows Desktop</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/mix-tool">mix tool - Mix n&#39; Match .NET Apps</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/post-command">Post Command - Inspect/Call HTTP APIs</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Background Concepts</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/what-is-a-message-based-web-service">What is a Message-based Web Service</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/advantages-of-message-based-web-services">Advantages of message-based Services</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/why-remote-services-use-dtos">Why Remote Services should use DTOs</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/service-complexity-and-dto-roles">Complexity, Services and Role of DTOs</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/api-first-development">API First Development</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">UIs</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/api-explorer">API Explorer</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/admin-ui">Admin UI</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/studio">Studio</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/studio-users">Studio - User Management</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/studio-autoquery">Studio - AutoQuery UI</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/studio-validation-rules">Studio - DB Validation Rules</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Reference</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/host-configuration">AppHost</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ioc">IOC</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/routing">Routing</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/order-of-operations">Order of Operations</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/customize-http-responses">Customize HTTP Responses</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/customize-json-responses">Customize JSON Responses</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/appsettings">Configuration &amp; AppSettings</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/metadata-page">Metadata Pages</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/svg">SVG Support</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/endpoints">REST, SOAP &amp; default endpoints</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/soap-support">SOAP support</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Error Handling</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/error-handling">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/validation">Validation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/world-validation">World Validation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/declarative-validation">Declarative Validation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/debugging">Debugging</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Server Events</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/server-events">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/csharp-server-events-client">C# Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/typescript-server-events-client">TypeScript Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/java-server-events-client">Java Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/javascript-server-events-client">JavaScript Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/server-events-grpc">gRPC Clients</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/redis-server-events">Redis Server Events</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Service Gateway</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/service-gateway">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/service-discovery">Service Discovery</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Clients</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/clients-overview">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/csharp-client">C#/.NET Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/typescript-add-servicestack-reference#typescript-serviceclient">TypeScript Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/javascript-client">JavaScript Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/java-add-servicestack-reference#jsonserviceclient-api">Java Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/swift-add-servicestack-reference#swift-client-usage">Swift Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/dart-add-servicestack-reference#example-usage">Dart Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/silverlight-client">Silverlight Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/messaging#mq-client-architecture">MQ Clients</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Add ServiceStack Reference</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/add-servicestack-reference">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/csharp-add-servicestack-reference">C# Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/typescript-add-servicestack-reference">TypeScript Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/python-add-servicestack-reference">Python Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/swift-add-servicestack-reference">Swift Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/java-add-servicestack-reference">Java Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/kotlin-add-servicestack-reference">Kotlin Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/dart-add-servicestack-reference">Dart Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/fsharp-add-servicestack-reference">F# Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vbnet-add-servicestack-reference">VB.NET Add Reference</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">MQ Messaging</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/messaging">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/background-mq">Background MQ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/rabbit-mq">Rabbit MQ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/redis-mq">Redis MQ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/amazon-sqs-mq">Amazon SQS MQ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/azure-service-bus-mq">Azure Service Bus MQ</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Jupyter Notebooks</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks-python">Python Jupyter Notebooks</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks-csharp">C# Jupyter Notebooks</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks-fsharp">F# Jupyter Notebooks</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks-reporting">Jupyter Reporting</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">GitHub Action Templates</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/github-action-templates">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/do-github-action-mix-deployment">GitHub GHR &amp; Digital Ocean</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/mix-github-actions-aws-ecs">AWS ECR &amp; ECS with NGINX</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Encrypted Messaging</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/encrypted-messaging">Overview</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Advanced</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/logging">Logging</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/request-and-response-filters">Request &amp; Response filters</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/filter-attributes">Filter attributes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/access-http-specific-features-in-services">Access HTTP features in services</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/serialization-deserialization">Serialization &amp; Deserialization</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/auto-mapping">Auto-Mapping</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/auto-batched-requests">Auto Batched Requests</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/virtual-file-system">Virtual File System</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/multitenancy">Multitenancy</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/physical-project-structure">Physical Project Structure</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/modularizing-services">Modularizing Services</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/built-in-profiling">Built-in profiling</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/hot-reloading">Hot Reloading</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/html-css-and-javascript-minification">HTML, CSS and JS Minifiers</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/mvc-integration">MVC Integration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/servicestack-integration">ServiceStack Integration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/servicestack-side-by-side-with-another-web-framework">Run side-by-side with another fx</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/versioning">Versioning</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/config-api">Config API</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/concurrency-model">Concurrency Model</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/form-hijacking-prevention">Form Hijacking Prevention</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/create-webservice-from-scratch">Create a WebService from scratch</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Formats</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/formats">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/json-format">JSON Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jsv-format">JSV Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/csv-format">CSV Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/messagepack-format">MessagePack Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/protobuf-format">ProtoBuf Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/html5reportformat">HTML5 Report Format</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">.NET Core</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-redis">.NET Core Redis</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-localhost-cert">Configure localhost dev cert</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/deploy-netcore-to-amazon-linux-2-ami">Deploy to Amazon Linux 2 AMI</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/deploy-netcore-docker-aws-ecs">Deploy .NET Core Apps to AWS ECS</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-deploy-rsync">Deploy .NET Core Apps using rsync</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Utils</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/http-utils">HTTP Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/dump-utils">Dump Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/reflection-utils">Reflection Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/js-utils">JS Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/adhoc-utils">Adhoc Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/simple-ioc">Simple IOC</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Caching</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/caching">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/http-caching">HTTP Caching</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/cacheresponse-attribute">CacheResponse Attribute</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/cache-aware-clients">Cache Aware Clients</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/compression">Compression</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Plugins</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/plugins">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/openapi">Open API</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/admin-users">User Admin Feature</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/corsfeature">CORS Feature</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/proxy-feature">Proxy Feature</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/request-logger">Request logger</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/lisp-tcp-repl-server">Lisp TCP REPL Server</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/postman">Postman</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/sitemaps">Sitemaps</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/cancellable-requests">Cancellable Requests</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/webhooks">Webhooks</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">View Engines</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-razor">ServiceStack Razor</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/razor-ui-controls">Razor UI Controls</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/razor-notes">Razor Notes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/view-and-template-selection">View and Template Selection</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/compiled-razor-views">Compiled Razor Views</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/razor-views-vs-content-pages">Razor Views vs Content Pages</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">JavaScript Web Apps</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-components">Vue Components</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/servicestack-client-umd">Embedded UMD @servicestack/client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ss-utils-js">ss-utils.js JavaScript Client Library</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Hosts</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/iis">IIS</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/self-hosting">Self-hosting</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Tests</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/testing">Testing</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/howto-write-unit-integration-tests">HowTo write unit &amp; integration tests</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Java</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/java">Java ServiceStack Resources</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/java-add-servicestack-reference#servicestack-idea-android-studio-plugin">Android Studio &amp; IntelliJ</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Other Languages</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/swift">Swift</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/fsharp">F#</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vbnet">VB.NET</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Deployment</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/deploy-multiple-sites-to-aws">Deploy Multiple Sites to single AWS</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/simple-deployments-to-aws">Simple Deployments with WebDeploy</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/advanced-deployment-octopus-deploy">Deployments with OctopusDeploy</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Amazon Web Services</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/aws">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/aws-pocodynamo">PocoDynamo</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/aws-getting-started">Getting Started with AWS</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Azure</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/azure">Overview</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Stripe</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/stripe">Overview</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Install 3rd Party Products</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/install-redis-windows">Redis on Windows</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/install-rabbitmq-windows">RabbitMQ on Windows</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ssl-redis-azure">Redis SSL on Azure</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Performance</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/real-world-performance">Real world performance</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Future</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/roadmap">Roadmap</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--[--><!----><!--]--><!--[--><h1>v4.0.38 Release Notes</h1><!--]--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h2 id="native-support-for-swift" tabindex="-1">Native Support for Swift! <a class="header-anchor" href="#native-support-for-swift" aria-hidden="true">#</a></h2><p>We&#39;re happy to announce an exciting new addition to <a href="/add-servicestack-reference">Add ServiceStack Reference</a> with support for Apple&#39;s new <a href="https://developer.apple.com/swift/" target="_blank" rel="noopener noreferrer">Swift Programming Language</a> - providing the most productive way for consuming web services on the worlds most desirable platform!</p><p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/swift-logo-banner.jpg" alt="Swift iOS, XCode and OSX Banner"></p><p>Native Swift support adds compelling value to your existing ServiceStack Services providing an idiomatic and end-to-end typed Swift API that can be effortlessly consumed from iOS and OSX Desktop Apps.</p><h3 id="servicestack-xcode-plugin" tabindex="-1">ServiceStack XCode Plugin <a class="header-anchor" href="#servicestack-xcode-plugin" aria-hidden="true">#</a></h3><p>To further maximize productivity we&#39;ve integrated with XCode IDE to allow iOS and OSX developers to import your typed Services API directly into their XCode projects with the ServiceStack XCode plugin below:</p><p><a href="https://github.com/ServiceStack/ServiceStack.Swift/raw/master/dist/ServiceStackXcode.dmg" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/servicestackxcode-dmg.png" alt="ServiceStackXCode.dmg download"></a></p><p>The ServiceStack XCode Plugin can be installed by dragging it to the XCode Plugins directory:</p><p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/servicestackxcode-installer.png" alt="ServiceStackXCode.dmg Installer"></p><p>Once installed the plugin adds a couple new familiar Menu options to the XCode Menu:</p><h3 id="swift-add-servicestack-reference" tabindex="-1">Swift Add ServiceStack Reference <a class="header-anchor" href="#swift-add-servicestack-reference" aria-hidden="true">#</a></h3><p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/xcode-add-reference.png" alt="XCode Add Reference"></p><p>Use the <strong>Add ServiceStack Reference</strong> Menu option to bring up the Add Reference XCode UI Sheet, which just like the Popup Window in <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a> just needs the Url for your remote ServiceStack instance and the name of the file the generated Swift DTO&#39;s should be saved to:</p><p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/xcode-add-reference-sheet.png" alt="XCode Add Reference Sheet"></p><p>Clicking <strong>Add Reference</strong> adds 2 files to your XCode project:</p><ul><li><code>JsonServiceClient.swift</code> - A Swift JSON ServiceClient with API&#39;s based on that of <a href="/csharp-client">the .NET JsonServiceClient</a></li><li><code>{FileName}.dtos.swift</code> - Your Services DTO Types converted in Swift</li></ul><p>You can also customize how the Swift types are generated by uncommenting the desired option with the behavior you want, e.g. to enable <a href="https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/KeyValueObserving/KeyValueObserving.html" target="_blank" rel="noopener noreferrer">Key-Value Observing (KVO)</a> in the generated DTO models, uncomment <code>BaseClass: NSObject</code> and then click the <strong>Update ServiceStack Reference</strong> Main Menu item to fetch the latest DTO&#39;s with all Types inheriting from <code>NSObject</code> as seen below:</p><p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/xcode-update-reference.png" alt="XCode Update Reference"></p><blockquote><p>We&#39;ve temporarily disabled &quot;Update on Save&quot; functionality as it resulted in an unacceptable typing delay on the watched file. We hope to re-enable this in a future version of XCode which doesn&#39;t exhibit degraded performance.</p></blockquote><h2 id="swift-native-types" tabindex="-1">Swift Native Types <a class="header-anchor" href="#swift-native-types" aria-hidden="true">#</a></h2><p>Like most ServiceStack&#39;s features our goal with <strong>Add ServiceStack Reference</strong> is to deliver the most value as simply as possible. One way we try to achieve this is by reducing the cognitive load required to use our libraries by promoting a simple but powerful conceptual model that works consistently across differring implementations, environments, langauges as well as UI integration with the various <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a>, Xamarin Studio and now XCode IDE&#39;s - in a recent React conference this was nicely captured with the phrase <a href="http://agateau.com/2015/learn-once-write-anywhere/" target="_blank" rel="noopener noreferrer">Learn once, Write Anywhere</a>.</p><p>Whilst each language is subtly different, all implementations work conceptually similar with all using Clean, Typed DTO&#39;s sent using a generic Service Gateway to facilitate its end-to-end typed communications. The client gateways also support DTO&#39;s from any source whether shared in source or binary form or generated with <a href="/add-servicestack-reference">Add ServiceStack Reference</a>.</p><h3 id="jsonserviceclient-swift" tabindex="-1"><a href="https://github.com/ServiceStack/ServiceStack.Swift/blob/master/dist/JsonServiceClient.swift" target="_blank" rel="noopener noreferrer">JsonServiceClient.swift</a> <a class="header-anchor" href="#jsonserviceclient-swift" aria-hidden="true">#</a></h3><p>With this in mind we were able to provide the same ideal, high-level API we&#39;ve enjoyed in <a href="/csharp-client">.NET&#39;s ServiceClients</a> into idiomatic Swift as seen with its <code>ServiceClient</code> protocol definition below:</p><div class="language-swift"><pre><code><span class="token keyword">public</span> <span class="token keyword">protocol</span> <span class="token class-name">ServiceClient</span>
<span class="token punctuation">{</span>
    <span class="token keyword">func</span> <span class="token function-definition function">get</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>request<span class="token punctuation">:</span><span class="token class-name">T</span><span class="token punctuation">,</span> error<span class="token punctuation">:</span><span class="token class-name">NSErrorPointer</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">T</span><span class="token punctuation">.</span><span class="token class-name">Return</span><span class="token operator">?</span>
    <span class="token keyword">func</span> <span class="token function-definition function">get</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>request<span class="token punctuation">:</span><span class="token class-name">T</span><span class="token punctuation">,</span> query<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">,</span> error<span class="token punctuation">:</span><span class="token class-name">NSErrorPointer</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">T</span><span class="token punctuation">.</span><span class="token class-name">Return</span><span class="token operator">?</span>
    <span class="token keyword">func</span> <span class="token function-definition function">get</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>relativeUrl<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">,</span> error<span class="token punctuation">:</span><span class="token class-name">NSErrorPointer</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">T</span><span class="token operator">?</span>
    <span class="token keyword">func</span> <span class="token function-definition function">getAsync</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>request<span class="token punctuation">:</span><span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">.</span><span class="token class-name">Return</span><span class="token operator">&gt;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">getAsync</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>request<span class="token punctuation">:</span><span class="token class-name">T</span><span class="token punctuation">,</span> query<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">.</span><span class="token class-name">Return</span><span class="token operator">&gt;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">getAsync</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>relativeUrl<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">post</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>request<span class="token punctuation">:</span><span class="token class-name">T</span><span class="token punctuation">,</span> error<span class="token punctuation">:</span><span class="token class-name">NSErrorPointer</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">T</span><span class="token punctuation">.</span><span class="token class-name">Return</span><span class="token operator">?</span>
    <span class="token keyword">func</span> <span class="token function-definition function">post</span><span class="token operator">&lt;</span><span class="token class-name">Response</span><span class="token punctuation">,</span> <span class="token class-name">Request</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>relativeUrl<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">,</span> request<span class="token punctuation">:</span><span class="token class-name">Request</span><span class="token operator">?</span><span class="token punctuation">,</span> error<span class="token punctuation">:</span><span class="token class-name">NSErrorPointer</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Response</span><span class="token operator">?</span>
    <span class="token keyword">func</span> <span class="token function-definition function">postAsync</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>request<span class="token punctuation">:</span><span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">.</span><span class="token class-name">Return</span><span class="token operator">&gt;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">postAsync</span><span class="token operator">&lt;</span><span class="token class-name">Response</span><span class="token punctuation">,</span> <span class="token class-name">Request</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>relativeUrl<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">,</span> request<span class="token punctuation">:</span><span class="token class-name">Request</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token class-name">Response</span><span class="token operator">&gt;</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">put</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>request<span class="token punctuation">:</span><span class="token class-name">T</span><span class="token punctuation">,</span> error<span class="token punctuation">:</span><span class="token class-name">NSErrorPointer</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">T</span><span class="token punctuation">.</span><span class="token class-name">Return</span><span class="token operator">?</span>
    <span class="token keyword">func</span> <span class="token function-definition function">put</span><span class="token operator">&lt;</span><span class="token class-name">Response</span><span class="token punctuation">,</span> <span class="token class-name">Request</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>relativeUrl<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">,</span> request<span class="token punctuation">:</span><span class="token class-name">Request</span><span class="token operator">?</span><span class="token punctuation">,</span> error<span class="token punctuation">:</span><span class="token class-name">NSErrorPointer</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Response</span><span class="token operator">?</span>
    <span class="token keyword">func</span> <span class="token function-definition function">putAsync</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>request<span class="token punctuation">:</span><span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">.</span><span class="token class-name">Return</span><span class="token operator">&gt;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">putAsync</span><span class="token operator">&lt;</span><span class="token class-name">Response</span><span class="token punctuation">,</span> <span class="token class-name">Request</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>relativeUrl<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">,</span> request<span class="token punctuation">:</span><span class="token class-name">Request</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token class-name">Response</span><span class="token operator">&gt;</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">delete</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>request<span class="token punctuation">:</span><span class="token class-name">T</span><span class="token punctuation">,</span> error<span class="token punctuation">:</span><span class="token class-name">NSErrorPointer</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">T</span><span class="token punctuation">.</span><span class="token class-name">Return</span><span class="token operator">?</span>
    <span class="token keyword">func</span> <span class="token function-definition function">delete</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>request<span class="token punctuation">:</span><span class="token class-name">T</span><span class="token punctuation">,</span> query<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">,</span> error<span class="token punctuation">:</span><span class="token class-name">NSErrorPointer</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">T</span><span class="token punctuation">.</span><span class="token class-name">Return</span><span class="token operator">?</span>
    <span class="token keyword">func</span> <span class="token function-definition function">delete</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>relativeUrl<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">,</span> error<span class="token punctuation">:</span><span class="token class-name">NSErrorPointer</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">T</span><span class="token operator">?</span>
    <span class="token keyword">func</span> <span class="token function-definition function">deleteAsync</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>request<span class="token punctuation">:</span><span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">.</span><span class="token class-name">Return</span><span class="token operator">&gt;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">deleteAsync</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>request<span class="token punctuation">:</span><span class="token class-name">T</span><span class="token punctuation">,</span> query<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">.</span><span class="token class-name">Return</span><span class="token operator">&gt;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">deleteAsync</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>relativeUrl<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">send</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>intoResponse<span class="token punctuation">:</span><span class="token class-name">T</span><span class="token punctuation">,</span> request<span class="token punctuation">:</span><span class="token class-name">NSMutableURLRequest</span><span class="token punctuation">,</span> error<span class="token punctuation">:</span><span class="token class-name">NSErrorPointer</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">T</span><span class="token operator">?</span>
    <span class="token keyword">func</span> <span class="token function-definition function">sendAsync</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>intoResponse<span class="token punctuation">:</span><span class="token class-name">T</span><span class="token punctuation">,</span> request<span class="token punctuation">:</span><span class="token class-name">NSMutableURLRequest</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">getData</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">,</span> error<span class="token punctuation">:</span><span class="token class-name">NSErrorPointer</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">NSData</span><span class="token operator">?</span>
    <span class="token keyword">func</span> <span class="token function-definition function">getDataAsync</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token class-name">NSData</span><span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>Generic type constraints omitted for readability</p></blockquote><p>The minor differences are primarily due to differences in Swift which instead of throwing Exceptions uses error codes and <code>Optional</code> return types and its lack of any asynchrony language support led us to embed a lightweight and <a href="http://promisekit.org/introduction/" target="_blank" rel="noopener noreferrer">well-documented Promises</a> implementation in <a href="https://github.com/mxcl/PromiseKit" target="_blank" rel="noopener noreferrer">PromiseKit</a> which closely matches the <code>Task&lt;T&gt;</code> type used in .NET Async API&#39;s.</p><h3 id="jsonserviceclient-swift-usage" tabindex="-1">JsonServiceClient.swift Usage <a class="header-anchor" href="#jsonserviceclient-swift-usage" aria-hidden="true">#</a></h3><p>If you&#39;ve ever had to make HTTP requests using Objective-C&#39;s <code>NSURLConnection</code> or <code>NSURLSession</code> static classes in iOS or OSX, the higher-level API&#39;s in <code>JsonServiceClient</code> will feel like a breath of fresh air - which enable the same ideal client API&#39;s we&#39;ve enjoyed in ServiceStack&#39;s .NET Clients, in Swift Apps!</p><blockquote><p>A nice benefit of using JsonServiceClient over static classes is that Service calls can be easily substituted and mocked with the above <code>ServiceClient</code> protocol, making it easy to test or stub out the external Gateway calls whilst the back-end is under development.</p></blockquote><p>To illustrate its usage we&#39;ll go through some client code to consume <a href="https://github.com/ServiceStackApps/TechStacks" target="_blank" rel="noopener noreferrer">TechStacks</a> Services after adding a <strong>ServiceStack Reference</strong> to <code>http://techstaks.io</code>:</p><div class="language-swift"><pre><code><span class="token keyword">var</span> client <span class="token operator">=</span> <span class="token class-name">JsonServiceClient</span><span class="token punctuation">(</span>baseUrl<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;https://techstacks.io&quot;</span></span><span class="token punctuation">)</span>
<span class="token keyword">var</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token class-name">AppOverview</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>Essentially usage is the same as it is in .NET ServiceClients - where it just needs the <code>baseUrl</code> of the remote ServiceStack instance, which can then be used to consume remote Services by sending typed Request DTO&#39;s that respond in kind with the expected Response DTO.</p><h3 id="async-api-usage" tabindex="-1">Async API Usage <a class="header-anchor" href="#async-api-usage" aria-hidden="true">#</a></h3><p>Whilst the sync API&#39;s are easy to use their usage should be limited in background threads so they&#39;re not blocking the Apps UI whilst waiting for responses. Most of the time when calling services from the Main UI thread you&#39;ll want to use the non-blocking async API&#39;s, which for the same API looks like:</p><div class="language-swift"><pre><code>client<span class="token punctuation">.</span><span class="token function">getAsync</span><span class="token punctuation">(</span><span class="token class-name">AppOverview</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>body<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">(</span>r<span class="token punctuation">:</span><span class="token class-name">AppOverviewResponse</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Void</span> <span class="token keyword">in</span> 
        <span class="token operator">...</span> 
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Which is very similar to how we&#39;d make async <code>Task&lt;T&gt;</code> calls in C# when not using its async/await language syntax sugar.</p><blockquote><p>Async callbacks are called back on the main thread, ideal for use in iOS Apps. This behavior is also configurable in the Promise&#39;s callback API.</p></blockquote><h3 id="typed-error-handling" tabindex="-1">Typed Error Handling <a class="header-anchor" href="#typed-error-handling" aria-hidden="true">#</a></h3><p>As Swift doesn&#39;t provide <code>try/catch</code> Exception Handling, Error handling is a little different in Swift which for most failable API&#39;s just returns a <code>nil</code> Optional to indicate when the operation didn&#39;t succeed. When more information about the error is required, API&#39;s will typically accept an additional <code>NSError</code> pointer argument to populate with more information about the error. Any additional metadata can be attached to NSError&#39;s <code>userInfo</code> Dictionary. We also follow this same approach to provide our structured error handling in <code>JsonServiceClient</code>.</p><p>To illustrate exception handling we&#39;ll connect to ServiceStack&#39;s Test Services and call the <code>ThrowType</code> Service to intentionally throw the error specified, e.g:</p><h4 id="sync-error-handling" tabindex="-1">Sync Error Handling <a class="header-anchor" href="#sync-error-handling" aria-hidden="true">#</a></h4><div class="language-swift"><pre><code><span class="token keyword">var</span> client <span class="token operator">=</span> <span class="token class-name">JsonServiceClient</span><span class="token punctuation">(</span>baseUrl<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;http://test.servicestack.net&quot;</span></span><span class="token punctuation">)</span>

<span class="token keyword">var</span> request <span class="token operator">=</span> <span class="token class-name">ThrowType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
request<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;NotFound&quot;</span></span>
request<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;custom message&quot;</span></span>

<span class="token keyword">var</span> error<span class="token punctuation">:</span><span class="token class-name">NSError</span><span class="token operator">?</span>

<span class="token keyword">let</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token operator">&amp;</span>error<span class="token punctuation">)</span>
response <span class="token comment">//= nil</span>

error<span class="token operator">!</span><span class="token punctuation">.</span>code <span class="token comment">//= 404</span>
<span class="token keyword">var</span> status<span class="token punctuation">:</span><span class="token class-name">ResponseStatus</span> <span class="token operator">=</span> error<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">convertUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//Convert into typed ResponseStatus</span>
status<span class="token punctuation">.</span>message <span class="token comment">//= not here</span>
status<span class="token punctuation">.</span>stackTrace <span class="token comment">//= Server Stack Trace</span>
</code></pre></div><blockquote><p>Note the explicit type definition on the return type is required here as Swift uses it as part of the generic method invocation.</p></blockquote><h4 id="async-error-handling" tabindex="-1">Async Error Handling <a class="header-anchor" href="#async-error-handling" aria-hidden="true">#</a></h4><p>To handle errors in Async API&#39;s we just add a callback on <code>.catch()</code> API on the returned Promise, e.g:</p><div class="language-swift"><pre><code>client<span class="token punctuation">.</span><span class="token function">postAsync</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">:</span><span class="token class-name">NSError</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Void</span> <span class="token keyword">in</span>
        <span class="token keyword">var</span> status<span class="token punctuation">:</span><span class="token class-name">ResponseStatus</span> <span class="token operator">=</span> error<span class="token punctuation">.</span><span class="token function">convertUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment">//...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="jsonserviceclient-error-handlers" tabindex="-1">JsonServiceClient Error Handlers <a class="header-anchor" href="#jsonserviceclient-error-handlers" aria-hidden="true">#</a></h3><p>Just like in .NET, we can also attach Global or instance error handlers to be able to generically handle all Service Client errors with a custom handler, e.g:</p><div class="language-swift"><pre><code>client<span class="token punctuation">.</span>onError <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">(</span>e<span class="token punctuation">:</span><span class="token class-name">NSError</span><span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token class-name">JsonServiceClient</span><span class="token punctuation">.</span><span class="token class-name">Global</span><span class="token punctuation">.</span>onError <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">(</span>e<span class="token punctuation">:</span><span class="token class-name">NSError</span><span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
</code></pre></div><h3 id="custom-routes" tabindex="-1">Custom Routes <a class="header-anchor" href="#custom-routes" aria-hidden="true">#</a></h3><p>As Swift doesn&#39;t support Attributes any exported .NET Attributes are emitted in comments on the Request DTO they apply to, e.g:</p><div class="language-swift"><pre><code><span class="token comment">// @Route(&quot;/technology/{Slug}&quot;)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetTechnology</span> <span class="token punctuation">:</span> <span class="token class-name">IReturn</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
</code></pre></div><p>This also means that the Custom Routes aren&#39;t used when making Service Requests and instead just uses ServiceStack&#39;s built-in <a href="/routing#pre-defined-routes">pre-defined routes</a>.</p><p>But when preferred <code>JsonServiceClient</code> can also be used to call Services using Custom Routes, e.g:</p><div class="language-swift"><pre><code><span class="token keyword">var</span> response<span class="token punctuation">:</span><span class="token class-name">GetTechnologyResponse</span><span class="token operator">?</span> <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;/technology/servicestack&quot;</span></span><span class="token punctuation">)</span>
</code></pre></div><h3 id="jsonserviceclient-options" tabindex="-1">JsonServiceClient Options <a class="header-anchor" href="#jsonserviceclient-options" aria-hidden="true">#</a></h3><p>Other options that can be configured on JsonServiceClient include:</p><div class="language-swift"><pre><code>client<span class="token punctuation">.</span>onError <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">(</span>e<span class="token punctuation">:</span><span class="token class-name">NSError</span><span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
client<span class="token punctuation">.</span>timeout <span class="token operator">=</span> <span class="token operator">...</span>
client<span class="token punctuation">.</span>cachePolicy <span class="token operator">=</span> <span class="token class-name">NSURLRequestCachePolicy</span><span class="token punctuation">.</span><span class="token class-name">ReloadIgnoringLocalCacheData</span>
client<span class="token punctuation">.</span>requestFilter <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">(</span>req<span class="token punctuation">:</span><span class="token class-name">NSMutableURLRequest</span><span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
client<span class="token punctuation">.</span>responseFilter <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">(</span>res<span class="token punctuation">:</span><span class="token class-name">NSURLResponse</span><span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token operator">...</span> <span class="token punctuation">}</span>

<span class="token comment">//static Global configuration</span>
<span class="token class-name">JsonServiceClient</span><span class="token punctuation">.</span><span class="token class-name">Global</span><span class="token punctuation">.</span>onError <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">(</span>e<span class="token punctuation">:</span><span class="token class-name">NSError</span><span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token class-name">JsonServiceClient</span><span class="token punctuation">.</span><span class="token class-name">Global</span><span class="token punctuation">.</span>requestFilter <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">(</span>req<span class="token punctuation">:</span><span class="token class-name">NSMutableURLRequest</span><span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token class-name">JsonServiceClient</span><span class="token punctuation">.</span><span class="token class-name">Global</span><span class="token punctuation">.</span>responseFilter <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">(</span>res<span class="token punctuation">:</span><span class="token class-name">NSURLResponse</span><span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
</code></pre></div><h2 id="introducing-techstacks-iphone-and-ipad-app" tabindex="-1">Introducing TechStacks iPhone and iPad App! <a class="header-anchor" href="#introducing-techstacks-iphone-and-ipad-app" aria-hidden="true">#</a></h2><p>To illustrate the ease-of-use and utility of ServiceStack&#39;s new Swift support we&#39;ve developed a native iOS App for <a href="https://techstacks.io" target="_blank" rel="noopener noreferrer">https://techstacks.io</a> that has been recently published and is now available to download for free on the AppStore:</p><p><a href="https://itunes.apple.com/us/app/techstacks/id965680615?ls=1&amp;mt=8" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/techstacks-appstore.png" alt="TechStacks on AppStore"></a></p><p>The complete source code for the <a href="https://github.com/ServiceStackApps/TechStacks" target="_blank" rel="noopener noreferrer">TechStacks App is available on GitHub</a> - providing a good example on how easy it is to take advantage of ServiceStack&#39;s Swift support to quickly build a rich and responsive Services-heavy native iOS App.</p><p>All remote Service Calls used by the App are encapsulated into a single <a href="https://github.com/ServiceStackApps/TechStacksApp/blob/master/src/TechStacks/AppData.swift" target="_blank" rel="noopener noreferrer">AppData.swift</a> class and only uses JsonServiceClient&#39;s non-blocking Async API&#39;s to ensure a Responsive UI is maintained throughout the App.</p><h3 id="mvc-and-key-value-observables-kvo" tabindex="-1">MVC and Key-Value Observables (KVO) <a class="header-anchor" href="#mvc-and-key-value-observables-kvo" aria-hidden="true">#</a></h3><p>If you&#39;ve ever had to implement <code>INotifyPropertyChanged</code> in .NET, you&#39;ll find the built-in model binding capabilities in iOS/OSX a refreshing alternative thanks to Objective-C&#39;s underlying <code>NSObject</code> which automatically generates automatic change notifications for its KV-compliant properties. UIKit and Cocoa frameworks both leverage this feature to enable its <a href="https://developer.apple.com/library/mac/documentation/General/Conceptual/DevPedia-CocoaCore/MVC.html" target="_blank" rel="noopener noreferrer">Model-View-Controller Pattern</a>.</p><p>As keeping UI&#39;s updated with Async API callbacks can get unwieldy, we wanted to go through how we&#39;re taking advantage of NSObject&#39;s KVO support in Service Responses to simplify maintaining dynamic UI&#39;s.</p><h3 id="enable-key-value-observing-in-swift-dto-s" tabindex="-1">Enable Key-Value Observing in Swift DTO&#39;s <a class="header-anchor" href="#enable-key-value-observing-in-swift-dto-s" aria-hidden="true">#</a></h3><p>Firstly to enable KVO in your Swift DTO&#39;s we&#39;ll want to have each DTO inherit from <code>NSObject</code> which can be done by uncommenting <code>BaseObject</code> option in the header comments as seen below:</p><div class="language-"><pre><code>/* Options:
Date: 2015-02-19 22:43:04
Version: 1
BaseUrl: https://techstacks.io

BaseClass: NSObject
...
*/
</code></pre></div><p>and click the <strong>Update ServiceStack Reference</strong> Menu Option to fetch the updated DTO&#39;s.</p><p>Then to <a href="https://developer.apple.com/library/ios/documentation/Swift/Conceptual/BuildingCocoaApps/AdoptingCocoaDesignPatterns.html#//apple_ref/doc/uid/TP40014216-CH7-XID_8" target="_blank" rel="noopener noreferrer">enable Key-Value Observing</a> just mark the response DTO variables with the <code>dynamic</code> modifier, e.g:</p><div class="language-swift"><pre><code><span class="token keyword">public</span> <span class="token keyword">dynamic</span> <span class="token keyword">var</span> allTiers<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">Option</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">dynamic</span> <span class="token keyword">var</span> overview<span class="token punctuation">:</span><span class="token class-name">AppOverviewResponse</span> <span class="token operator">=</span> <span class="token class-name">AppOverviewResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">dynamic</span> <span class="token keyword">var</span> topTechnologies<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">TechnologyInfo</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">dynamic</span> <span class="token keyword">var</span> allTechnologies<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">Technology</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">dynamic</span> <span class="token keyword">var</span> allTechnologyStacks<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">TechnologyStack</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre></div><p>Which is all that&#39;s needed to allow properties to be observed as they&#39;ll automatically issue change notifications when they&#39;re populated in the Service response async callbacks, e.g:</p><div class="language-swift"><pre><code><span class="token keyword">func</span> <span class="token function-definition function">loadOverview</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token class-name">AppOverviewResponse</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> client<span class="token punctuation">.</span><span class="token function">getAsync</span><span class="token punctuation">(</span><span class="token class-name">AppOverview</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>body<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">(</span>r<span class="token punctuation">:</span><span class="token class-name">AppOverviewResponse</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">AppOverviewResponse</span> <span class="token keyword">in</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>overview <span class="token operator">=</span> r
            <span class="token keyword">self</span><span class="token punctuation">.</span>allTiers <span class="token operator">=</span> r<span class="token punctuation">.</span>allTiers
            <span class="token keyword">self</span><span class="token punctuation">.</span>topTechnologies <span class="token operator">=</span> r<span class="token punctuation">.</span>topTechnologies
            <span class="token keyword">return</span> r
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function-definition function">loadAllTechnologies</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token class-name">GetAllTechnologiesResponse</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> client<span class="token punctuation">.</span><span class="token function">getAsync</span><span class="token punctuation">(</span><span class="token class-name">GetAllTechnologies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>body<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">(</span>r<span class="token punctuation">:</span><span class="token class-name">GetAllTechnologiesResponse</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">GetAllTechnologiesResponse</span> <span class="token keyword">in</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>allTechnologies <span class="token operator">=</span> r<span class="token punctuation">.</span>results
            <span class="token keyword">return</span> r
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function-definition function">loadAllTechStacks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token class-name">GetAllTechnologyStacksResponse</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> client<span class="token punctuation">.</span><span class="token function">getAsync</span><span class="token punctuation">(</span><span class="token class-name">GetAllTechnologyStacks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>body<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">(</span>r<span class="token punctuation">:</span><span class="token class-name">GetAllTechnologyStacksResponse</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">GetAllTechnologyStacksResponse</span> <span class="token keyword">in</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>allTechnologyStacks <span class="token operator">=</span> r<span class="token punctuation">.</span>results
            <span class="token keyword">return</span> r
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="observing-data-changes" tabindex="-1">Observing Data Changes <a class="header-anchor" href="#observing-data-changes" aria-hidden="true">#</a></h3><p>In your <a href="https://github.com/ServiceStackApps/TechStacksApp/blob/0fca564e8c06fd1b71f81faee93a2e04c70a219b/src/TechStacks/HomeViewController.swift" target="_blank" rel="noopener noreferrer">ViewController</a> have the datasources for your custom views binded to the desired data (which will initially be empty):</p><div class="language-swift"><pre><code><span class="token keyword">func</span> <span class="token function-definition function">pickerView</span><span class="token punctuation">(</span>pickerView<span class="token punctuation">:</span> <span class="token class-name">UIPickerView</span><span class="token punctuation">,</span> numberOfRowsInComponent component<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> appData<span class="token punctuation">.</span>allTiers<span class="token punctuation">.</span>count
<span class="token punctuation">}</span>
<span class="token operator">...</span>
<span class="token keyword">func</span> <span class="token function-definition function">tableView</span><span class="token punctuation">(</span>tableView<span class="token punctuation">:</span> <span class="token class-name">UITableView</span><span class="token punctuation">,</span> numberOfRowsInSection section<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Int</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> appData<span class="token punctuation">.</span>topTechnologies<span class="token punctuation">.</span>count
<span class="token punctuation">}</span>
</code></pre></div><p>Then in <code>viewDidLoad()</code> <a href="https://github.com/ServiceStack/ServiceStack.Swift/blob/67c5c092b92927702f33b6a0669e3aa1de0e2cdc/apps/TechStacks/TechStacks/HomeViewController.swift#L31" target="_blank" rel="noopener noreferrer">start observing the properties</a> your UI Controls are bound to, e.g:</p><div class="language-swift"><pre><code><span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>appData<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> properties<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">&quot;topTechnologies&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;allTiers&quot;</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>appData<span class="token punctuation">.</span><span class="token function">loadOverview</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">deinit</span> <span class="token punctuation">{</span> <span class="token keyword">self</span><span class="token punctuation">.</span>appData<span class="token punctuation">.</span><span class="token function">unobserve</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
</code></pre></div><p>In the example code above we&#39;re using some custom <a href="https://github.com/ServiceStackApps/TechStacksApp/blob/0fca564e8c06fd1b71f81faee93a2e04c70a219b/src/TechStacks/AppData.swift#L159-L183" target="_blank" rel="noopener noreferrer">KVO helpers</a> to keep the code required to a minimum.</p><p>With the observable bindings in place, the change notifications of your observed properties can be handled by overriding <code>observeValueForKeyPath()</code> which passes the name of the property that&#39;s changed in the <code>keyPath</code> argument that can be used to determine the UI Controls to refresh, e.g:</p><div class="language-swift"><pre><code><span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">observeValueForKeyPath</span><span class="token punctuation">(</span>keyPath<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">,</span> ofObject object<span class="token punctuation">:</span><span class="token class-name">AnyObject</span><span class="token punctuation">,</span> change<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">NSObject</span><span class="token punctuation">:</span><span class="token class-name">AnyObject</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  context<span class="token punctuation">:</span> <span class="token class-name">UnsafeMutablePointer</span><span class="token operator">&lt;</span><span class="token class-name">Void</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> keyPath <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">&quot;allTiers&quot;</span></span><span class="token punctuation">:</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>technologyPicker<span class="token punctuation">.</span><span class="token function">reloadAllComponents</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">&quot;topTechnologies&quot;</span></span><span class="token punctuation">:</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>tblView<span class="token punctuation">.</span><span class="token function">reloadData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token keyword">break</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Now that everything&#39;s configured, the observables provide an alternative to manually updating UI elements within async callbacks, instead you can now fire-and-forget your async API&#39;s and rely on the pre-configured bindings to automatically update the appropriate UI Controls when their bounded properties are updated, e.g:</p><div class="language-swift"><pre><code><span class="token keyword">self</span><span class="token punctuation">.</span>appData<span class="token punctuation">.</span><span class="token function">loadOverview</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//Ignore response and use configured KVO Bindings</span>
</code></pre></div><h3 id="images-and-custom-binary-requests" tabindex="-1">Images and Custom Binary Requests <a class="header-anchor" href="#images-and-custom-binary-requests" aria-hidden="true">#</a></h3><p>In addition to greatly simplifying Web Service Requests, <code>JsonServiceClient</code> also makes it easy to fetch any custom HTTP response like Images and other Binary data using the generic <code>getData()</code> and <code>getDataAsync()</code> NSData API&#39;s. This is used in TechStacks to <a href="https://github.com/ServiceStackApps/TechStacksApp/blob/0fca564e8c06fd1b71f81faee93a2e04c70a219b/src/TechStacks/AppData.swift#L144" target="_blank" rel="noopener noreferrer">maintain a cache of all loaded images</a>, reducing number of HTTP requests and load times when navigating between screens:</p><div class="language-swift"><pre><code><span class="token keyword">var</span> imageCache<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">:</span><span class="token class-name">UIImage</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span>

<span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function-definition function">loadImageAsync</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token class-name">UIImage</span><span class="token operator">?&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token keyword">let</span> image <span class="token operator">=</span> imageCache<span class="token punctuation">[</span>url<span class="token punctuation">]</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token class-name">UIImage</span><span class="token operator">?&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>complete<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token function">complete</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">return</span> client<span class="token punctuation">.</span><span class="token function">getDataAsync</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>body<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>data<span class="token punctuation">:</span><span class="token class-name">NSData</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">UIImage</span><span class="token operator">?</span> <span class="token keyword">in</span>
            <span class="token keyword">if</span> <span class="token keyword">let</span> image <span class="token operator">=</span> <span class="token class-name">UIImage</span><span class="token punctuation">(</span>data<span class="token punctuation">:</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">self</span><span class="token punctuation">.</span>imageCache<span class="token punctuation">[</span>url<span class="token punctuation">]</span> <span class="token operator">=</span> image
                <span class="token keyword">return</span> image
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token nil constant">nil</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="techstacks-osx-desktop-app" tabindex="-1">TechStacks OSX Desktop App! <a class="header-anchor" href="#techstacks-osx-desktop-app" aria-hidden="true">#</a></h2><p>As <code>JsonServiceClient.swift</code> has no external dependencies and only relies on core <code>Foundation</code> classes it can be used anywhere Swift can including OSX Cocoa Desktop and Command Line Apps and Frameworks.</p><p>Most of the API&#39;s used in TechStacks iOS App are standard typed Web Services calls. We&#39;ve also developed a TechStacks OSX Desktop to showcase how easy it is to call ServiceStack&#39;s dynamic <a href="/autoquery">AutoQuery Services</a> and how much auto-querying functionality they can provide for free.</p><p>E.g. The TechStacks Desktop app is essentially powered with these 2 AutoQuery Services:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Query</span><span class="token attribute-arguments"><span class="token punctuation">(</span>QueryTerm<span class="token punctuation">.</span>Or<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span> <span class="token comment">//change from filtering (default) to combinatory semantics</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FindTechStacks</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">QueryBase<span class="token punctuation">&lt;</span>TechnologyStack<span class="token punctuation">&gt;</span></span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Query</span><span class="token attribute-arguments"><span class="token punctuation">(</span>QueryTerm<span class="token punctuation">.</span>Or<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FindTechnologies</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">QueryBase<span class="token punctuation">&lt;</span>Technology<span class="token punctuation">&gt;</span></span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p>Basically just a Request DTO telling AutoQuery what Table we want to Query and that we want to <a href="/autoquery#changing-querying-behavior">change the default Search behavior</a> to have <strong>OR</strong> semantics. We don&#39;t need to specify which properties we can query as the <a href="/autoquery#implicit-conventions">implicit conventions</a> automatically infer it from the table being queried.</p><p>The TechStacks Desktop UI is then built around these 2 AutoQuery Services allowing querying against each field and utilizing a subset of the implicit conventions supported:</p><h3 id="querying-technology-stacks" tabindex="-1">Querying Technology Stacks <a class="header-anchor" href="#querying-technology-stacks" aria-hidden="true">#</a></h3><p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/techstacks-desktop-field.png" alt="TechStack Desktop Search Fields"></p><h3 id="querying-technologies" tabindex="-1">Querying Technologies <a class="header-anchor" href="#querying-technologies" aria-hidden="true">#</a></h3><p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/techstacks-desktop-type.png" alt="TechStack Desktop Search Type"></p><p>Like the TechStacks iOS App all Service Calls are maintained in a single <a href="https://github.com/ServiceStackApps/TechStacksDesktopApp/blob/master/src/TechStacksDesktop/AppData.swift" target="_blank" rel="noopener noreferrer">AppData.swift</a> class and uses KVO bindings to update its UI which is populated from these 2 services below:</p><div class="language-swift"><pre><code><span class="token keyword">func</span> <span class="token function-definition function">searchTechStacks</span><span class="token punctuation">(</span>query<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">,</span> field<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token nil constant">nil</span><span class="token punctuation">,</span> operand<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token nil constant">nil</span><span class="token punctuation">)</span>
  <span class="token operator">-&gt;</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token class-name">QueryResponse</span><span class="token operator">&lt;</span><span class="token class-name">TechnologyStack</span><span class="token operator">&gt;&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>search <span class="token operator">=</span> query
    
    <span class="token keyword">let</span> queryString <span class="token operator">=</span> query<span class="token punctuation">.</span>count <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> field <span class="token operator">!=</span> <span class="token nil constant">nil</span> <span class="token operator">&amp;&amp;</span> operand <span class="token operator">!=</span> <span class="token nil constant">nil</span>
        <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token function">createAutoQueryParam</span><span class="token punctuation">(</span>field<span class="token operator">!</span><span class="token punctuation">,</span> operand<span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">:</span> query<span class="token punctuation">]</span>
        <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">&quot;NameContains&quot;</span></span><span class="token punctuation">:</span>query<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;DescriptionContains&quot;</span></span><span class="token punctuation">:</span>query<span class="token punctuation">]</span>
    
    <span class="token keyword">let</span> request <span class="token operator">=</span> <span class="token class-name">FindTechStacks</span><span class="token operator">&lt;</span><span class="token class-name">TechnologyStack</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> client<span class="token punctuation">.</span><span class="token function">getAsync</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> query<span class="token punctuation">:</span>queryString<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>body<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">(</span>r<span class="token punctuation">:</span><span class="token class-name">QueryResponse</span><span class="token operator">&lt;</span><span class="token class-name">TechnologyStack</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">QueryResponse</span><span class="token operator">&lt;</span><span class="token class-name">TechnologyStack</span><span class="token operator">&gt;</span> <span class="token keyword">in</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>filteredTechStacks <span class="token operator">=</span> r<span class="token punctuation">.</span>results
            <span class="token keyword">return</span> r
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function-definition function">searchTechnologies</span><span class="token punctuation">(</span>query<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">,</span> field<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token nil constant">nil</span><span class="token punctuation">,</span> operand<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token nil constant">nil</span><span class="token punctuation">)</span>
  <span class="token operator">-&gt;</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token class-name">QueryResponse</span><span class="token operator">&lt;</span><span class="token class-name">Technology</span><span class="token operator">&gt;&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>search <span class="token operator">=</span> query

    <span class="token keyword">let</span> queryString <span class="token operator">=</span> query<span class="token punctuation">.</span>count <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> field <span class="token operator">!=</span> <span class="token nil constant">nil</span> <span class="token operator">&amp;&amp;</span> operand <span class="token operator">!=</span> <span class="token nil constant">nil</span>
        <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token function">createAutoQueryParam</span><span class="token punctuation">(</span>field<span class="token operator">!</span><span class="token punctuation">,</span> operand<span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">:</span> query<span class="token punctuation">]</span>
        <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">&quot;NameContains&quot;</span></span><span class="token punctuation">:</span>query<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;DescriptionContains&quot;</span></span><span class="token punctuation">:</span>query<span class="token punctuation">]</span>
    
    <span class="token keyword">let</span> request <span class="token operator">=</span> <span class="token class-name">FindTechnologies</span><span class="token operator">&lt;</span><span class="token class-name">Technology</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> client<span class="token punctuation">.</span><span class="token function">getAsync</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> query<span class="token punctuation">:</span>queryString<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>body<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">(</span>r<span class="token punctuation">:</span><span class="token class-name">QueryResponse</span><span class="token operator">&lt;</span><span class="token class-name">Technology</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">QueryResponse</span><span class="token operator">&lt;</span><span class="token class-name">Technology</span><span class="token operator">&gt;</span> <span class="token keyword">in</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>filteredTechnologies <span class="token operator">=</span> r<span class="token punctuation">.</span>results
            <span class="token keyword">return</span> r
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function-definition function">createAutoQueryParam</span><span class="token punctuation">(</span>field<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token omit keyword">_</span> operand<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> template <span class="token operator">=</span> autoQueryOperandsMap<span class="token punctuation">[</span>operand<span class="token punctuation">]</span><span class="token operator">!</span>
    <span class="token keyword">let</span> mergedField <span class="token operator">=</span> template<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;%&quot;</span></span><span class="token punctuation">,</span> withString<span class="token punctuation">:</span>field<span class="token punctuation">)</span>
    <span class="token keyword">return</span> mergedField
<span class="token punctuation">}</span>
</code></pre></div><p>Essentially employing the same strategy for both AutoQuery Services where it builds a query String parameter to send with the request. For incomplete queries, the default search queries both <code>NameContains</code> and <code>DescriptionContains</code> field conventions returning results where the Search Text is either in <code>Name</code> <strong>OR</strong> <code>Description</code> fields.</p><h2 id="swift-generated-dto-types" tabindex="-1">Swift Generated DTO Types <a class="header-anchor" href="#swift-generated-dto-types" aria-hidden="true">#</a></h2><p>With Swift support our goal was to ensure a high-fidelity, idiomatic translation within the constraints of Swift language and built-in libraries, where the .NET Server DTO&#39;s are translated into clean Swift POSO&#39;s (Plain Old Swift Objects 😃 having their .NET built-in types mapped to their equivalent Swift data type.</p><p>To see what this ended up looking like, we&#39;ll peel back behind the covers and look at a couple of the <a href="http://test.servicestack.net/types/swift" target="_blank" rel="noopener noreferrer">Generated Swift Test Models</a> to see how they&#39;re translated in Swift:</p><div class="language-swift"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AllTypes</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> id<span class="token punctuation">:</span><span class="token class-name">Int</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> nullableId<span class="token punctuation">:</span><span class="token class-name">Int</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> byte<span class="token punctuation">:</span><span class="token class-name">Int8</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> short<span class="token punctuation">:</span><span class="token class-name">Int16</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> int<span class="token punctuation">:</span><span class="token class-name">Int</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> long<span class="token punctuation">:</span><span class="token class-name">Int64</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> uShort<span class="token punctuation">:</span><span class="token class-name">UInt16</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> uInt<span class="token punctuation">:</span><span class="token class-name">UInt32</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> uLong<span class="token punctuation">:</span><span class="token class-name">UInt64</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> float<span class="token punctuation">:</span><span class="token class-name">Float</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> double<span class="token punctuation">:</span><span class="token class-name">Double</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> decimal<span class="token punctuation">:</span><span class="token class-name">Double</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> string<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> dateTime<span class="token punctuation">:</span><span class="token class-name">NSDate</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> timeSpan<span class="token punctuation">:</span><span class="token class-name">NSTimeInterval</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> dateTimeOffset<span class="token punctuation">:</span><span class="token class-name">NSDate</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> guid<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> char<span class="token punctuation">:</span><span class="token class-name">Character</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> nullableDateTime<span class="token punctuation">:</span><span class="token class-name">NSDate</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> nullableTimeSpan<span class="token punctuation">:</span><span class="token class-name">NSTimeInterval</span><span class="token operator">?</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> stringList<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> stringArray<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> stringMap<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> intStringMap<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">Int</span><span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> subType<span class="token punctuation">:</span><span class="token class-name">SubType</span><span class="token operator">?</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AllCollectionTypes</span>
<span class="token punctuation">{</span>
    <span class="token keyword">required</span> <span class="token keyword">public</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> intArray<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> intList<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> stringArray<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> stringList<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> pocoArray<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">Poco</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> pocoList<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">Poco</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> pocoLookup<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">Poco</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> pocoLookupMap<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">:</span><span class="token class-name">Poco</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">EnumType</span> <span class="token punctuation">:</span> <span class="token class-name">Int</span>
<span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token class-name">Value1</span>
    <span class="token keyword">case</span> <span class="token class-name">Value2</span>
<span class="token punctuation">}</span>
</code></pre></div><p>As seen above, properties are essentially mapped to their optimal Swift equivalent. As DTO&#39;s can be partially complete all properties are <code>Optional</code> except for enumerables which default to an empty collection - making them easier to work with and despite their semantic differences, .NET enums are translated into typed Swift enums.</p><h3 id="swift-challenges" tabindex="-1">Swift Challenges <a class="header-anchor" href="#swift-challenges" aria-hidden="true">#</a></h3><p>The current stable version of Swift has several limitations that prevented using similar reflection and metaprogramming/code-gen techniques we&#39;re used to with .NET to implement them efficiently in Swift, e.g. Swift has an incomplete reflection API that can&#39;t set a property, is unable to cast <code>Any</code> (aka object) back to a concrete Swift type, unable to get the string literal for an enum value and we ran into many other Swift compiler limitations that would segfault whilst exploring this strategy.</p><p>Some of these limitations could be worked around by having every type inherit from <code>NSObject</code> and bridging to use the dynamism in Objective-C API&#39;s, but ultimately we decided against depending on <code>NSObject</code> or using Swift&#39;s built-in reflection API&#39;s which we also didn&#39;t expect to perform well in iOS&#39;s NoJIT environment which doesn&#39;t allow caching of reflection access to maintain optimal runtime performance.</p><h3 id="swift-code-generation" tabindex="-1">Swift Code Generation <a class="header-anchor" href="#swift-code-generation" aria-hidden="true">#</a></h3><p>As we were already using code-gen to generate the Swift types we could extend it without impacting the Developer UX which we expanded to also include what&#39;s essentially an <strong>explicit Reflection API</strong> for each type with API&#39;s to support serializing to and from JSON. Thanks to Swift&#39;s rich support for extending types we were able to leverage its Type extensions so the implementation details could remain disconnected from the clean Swift type definitions allowing improved readability when inspecting the remote DTO schema&#39;s.</p><p>We can look at <code>AllCollectionTypes</code> to see an example of the code-gen that&#39;s generated for each type, essentially emitting explicit readable/writable closures for each property:</p><div class="language-swift"><pre><code><span class="token keyword">extension</span> <span class="token class-name">AllCollectionTypes</span> <span class="token punctuation">:</span> <span class="token class-name">JsonSerializable</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token keyword">var</span> typeName<span class="token punctuation">:</span><span class="token class-name">String</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">&quot;AllCollectionTypes&quot;</span></span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token keyword">func</span> <span class="token function-definition function">reflect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">Type</span><span class="token operator">&lt;</span><span class="token class-name">AllCollectionTypes</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">TypeConfig</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token class-name">TypeConfig</span><span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token keyword">Type</span><span class="token operator">&lt;</span><span class="token class-name">AllCollectionTypes</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>
            properties<span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token keyword">Type</span><span class="token operator">&lt;</span><span class="token class-name">AllCollectionTypes</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">arrayProperty</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;intArray&quot;</span></span><span class="token punctuation">,</span> <span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>intArray <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">set</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>intArray <span class="token operator">=</span> <span class="token short-argument">$1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">Type</span><span class="token operator">&lt;</span><span class="token class-name">AllCollectionTypes</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">arrayProperty</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;intList&quot;</span></span><span class="token punctuation">,</span> <span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>intList <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">set</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>intList <span class="token operator">=</span> <span class="token short-argument">$1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">Type</span><span class="token operator">&lt;</span><span class="token class-name">AllCollectionTypes</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">arrayProperty</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;stringArray&quot;</span></span><span class="token punctuation">,</span> <span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>stringArray <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">set</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>stringArray <span class="token operator">=</span> <span class="token short-argument">$1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">Type</span><span class="token operator">&lt;</span><span class="token class-name">AllCollectionTypes</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">arrayProperty</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;stringList&quot;</span></span><span class="token punctuation">,</span> <span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>stringList <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">set</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>stringList <span class="token operator">=</span> <span class="token short-argument">$1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">Type</span><span class="token operator">&lt;</span><span class="token class-name">AllCollectionTypes</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">arrayProperty</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;pocoArray&quot;</span></span><span class="token punctuation">,</span> <span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>pocoArray <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">set</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>pocoArray <span class="token operator">=</span> <span class="token short-argument">$1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">Type</span><span class="token operator">&lt;</span><span class="token class-name">AllCollectionTypes</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">arrayProperty</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;pocoList&quot;</span></span><span class="token punctuation">,</span> <span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>pocoList <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">set</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>pocoList <span class="token operator">=</span> <span class="token short-argument">$1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">Type</span><span class="token operator">&lt;</span><span class="token class-name">AllCollectionTypes</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">objectProperty</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;pocoLookup&quot;</span></span><span class="token punctuation">,</span> <span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>pocoLookup <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">set</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>pocoLookup <span class="token operator">=</span> <span class="token short-argument">$1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">Type</span><span class="token operator">&lt;</span><span class="token class-name">AllCollectionTypes</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">objectProperty</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;pocoLookupMap&quot;</span></span><span class="token punctuation">,</span> <span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>pocoLookupMap <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">set</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>pocoLookupMap <span class="token operator">=</span> <span class="token short-argument">$1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function-definition function">toJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">AllCollectionTypes</span><span class="token punctuation">.</span><span class="token function">reflect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token keyword">func</span> <span class="token function-definition function">fromJson</span><span class="token punctuation">(</span>json<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">AllCollectionTypes</span><span class="token operator">?</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">AllCollectionTypes</span><span class="token punctuation">.</span><span class="token function">reflect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span><span class="token class-name">AllCollectionTypes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> json<span class="token punctuation">:</span> json<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token keyword">func</span> <span class="token function-definition function">fromObject</span><span class="token punctuation">(</span>any<span class="token punctuation">:</span><span class="token class-name">AnyObject</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">AllCollectionTypes</span><span class="token operator">?</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">AllCollectionTypes</span><span class="token punctuation">.</span><span class="token function">reflect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fromObject</span><span class="token punctuation">(</span><span class="token class-name">AllCollectionTypes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> any<span class="token punctuation">:</span>any<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function-definition function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">AllCollectionTypes</span><span class="token punctuation">.</span><span class="token function">reflect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token keyword">func</span> <span class="token function-definition function">fromString</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">AllCollectionTypes</span><span class="token operator">?</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">AllCollectionTypes</span><span class="token punctuation">.</span><span class="token function">reflect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fromString</span><span class="token punctuation">(</span><span class="token class-name">AllCollectionTypes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> string<span class="token punctuation">:</span> string<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="swift-native-types-limitations" tabindex="-1">Swift Native Types Limitations <a class="header-anchor" href="#swift-native-types-limitations" aria-hidden="true">#</a></h3><p>Due to the semantic differences and limitations in Swift there are some limitations of what&#39;s not supported. Luckily these limitations are mostly <a href="http://stackoverflow.com/a/10759250/85785" target="_blank" rel="noopener noreferrer">highly-discouraged bad practices</a> which is another reason not to use them. Specifically what&#39;s not supported:</p><h4 id="no-object-or-interface-properties" tabindex="-1">No <code>object</code> or <code>Interface</code> properties <a class="header-anchor" href="#no-object-or-interface-properties" aria-hidden="true">#</a></h4><p>When emitting code we&#39;ll generate a comment when ignoring these properties, e.g:</p><div class="language-swift"><pre><code><span class="token comment">//emptyInterface:IEmptyInterface ignored. Swift doesn&#39;t support interface properties</span>
</code></pre></div><h4 id="base-types-must-be-marked-abstract" tabindex="-1">Base types must be marked abstract <a class="header-anchor" href="#base-types-must-be-marked-abstract" aria-hidden="true">#</a></h4><p>As Swift doesn&#39;t support extension inheritance, when using inheritance in DTO&#39;s any Base types must be marked abstract.</p><h4 id="all-dto-type-names-must-be-unique" tabindex="-1">All DTO Type Names must be unique <a class="header-anchor" href="#all-dto-type-names-must-be-unique" aria-hidden="true">#</a></h4><p>Required as there are no namespaces in Swift (Also required for F# and TypeScript). ServiceStack only requires Request DTO&#39;s to be unique, but our recommendation is for all DTO names to be unique.</p><h4 id="ireturn-not-added-for-array-responses" tabindex="-1">IReturn not added for Array Responses <a class="header-anchor" href="#ireturn-not-added-for-array-responses" aria-hidden="true">#</a></h4><p>As Swift doesn&#39;t allow extending generic Arrays with public protocols, the <code>IReturn</code> marker that enables the typed ServiceClient API isn&#39;t available for Requests returning Array responses. You can workaround this limitation by wrapping the array in a Response DTO whilst we look at other solutions to support this in future.</p><h2 id="swift-configuration" tabindex="-1">Swift Configuration <a class="header-anchor" href="#swift-configuration" aria-hidden="true">#</a></h2><p>The header comments in the generated DTO&#39;s allows for further customization of how the DTO&#39;s are generated which can then be updated with any custom Options provided using the <strong>Update ServiceStack Reference</strong> Menu Item in XCode. Options that are preceded by a Swift single line comment <code>//</code> are defaults from the server that can be overridden, e.g:</p><div class="language-swift"><pre><code><span class="token comment">/* Options:
Date: 2015-02-22 13:52:26
Version: 1
BaseUrl: https://techstacks.io

//BaseClass: 
//AddModelExtensions: True
//AddServiceStackTypes: True
//IncludeTypes: 
//ExcludeTypes: 
//AddResponseStatus: False
//AddImplicitVersion: 
//InitializeCollections: True
//DefaultImports: Foundation
*/</span>
</code></pre></div><p>To override a value, remove the <code>//</code> and specify the value to the right of the <code>:</code>. Any value uncommented will be sent to the server to override any server defaults.</p><p>We&#39;ll go through and cover each of the above options to see how they affect the generated DTO&#39;s:</p><h3 id="baseclass" tabindex="-1">BaseClass <a class="header-anchor" href="#baseclass" aria-hidden="true">#</a></h3><p>Specify a base class that&#39;s inherited by all Swift DTO&#39;s, e.g. to enable <a href="https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/KeyValueObserving/KeyValueObserving.html" target="_blank" rel="noopener noreferrer">Key-Value Observing (KVO)</a> in the generated DTO models have all types inherit from <code>NSObject</code>:</p><div class="language-"><pre><code>/* Options:
BaseClass: NSObject
</code></pre></div><p>Will change all DTO types to inherit from <code>NSObject</code>:</p><div class="language-swift"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserInfo</span> <span class="token punctuation">:</span> <span class="token class-name">NSObject</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
</code></pre></div><h3 id="addmodelextensions" tabindex="-1">AddModelExtensions <a class="header-anchor" href="#addmodelextensions" aria-hidden="true">#</a></h3><p>Remove the the code-generated type extensions required to support typed JSON serialization of the Swift types and leave only the clean Swift DTO Type definitions.</p><div class="language-"><pre><code>/* Options:
AddModelExtensions: False
</code></pre></div><h3 id="addservicestacktypes" tabindex="-1">AddServiceStackTypes <a class="header-anchor" href="#addservicestacktypes" aria-hidden="true">#</a></h3><p>Don&#39;t generate the types for built-in ServiceStack classes and Services like <code>ResponseStatus</code> and <code>Authenticate</code>, etc.</p><div class="language-"><pre><code>/* Options:
AddServiceStackTypes: False
</code></pre></div><h3 id="includetypes" tabindex="-1">IncludeTypes <a class="header-anchor" href="#includetypes" aria-hidden="true">#</a></h3><p>Is used as a Whitelist that can be used to specify only the types you would like to have code-generated:</p><div class="language-"><pre><code>/* Options:
IncludeTypes: GetTechnology,GetTechnologyResponse
</code></pre></div><p>Will only generate <code>GetTechnology</code> and <code>GetTechnologyResponse</code> DTO&#39;s:</p><div class="language-swift"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetTechnology</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetTechnologyResponse</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
</code></pre></div><h3 id="excludetypes" tabindex="-1">ExcludeTypes <a class="header-anchor" href="#excludetypes" aria-hidden="true">#</a></h3><p>Is used as a Blacklist where you can specify which types you would like to exclude from being generated:</p><div class="language-"><pre><code>/* Options:
ExcludeTypes: GetTechnology,GetTechnologyResponse
</code></pre></div><p>Will exclude <code>GetTechnology</code> and <code>GetTechnologyResponse</code> DTO&#39;s from being generated.</p><h3 id="addresponsestatus" tabindex="-1">AddResponseStatus <a class="header-anchor" href="#addresponsestatus" aria-hidden="true">#</a></h3><p>Automatically add a <code>ResponseStatus</code> property on all Response DTO&#39;s, regardless if it wasn&#39;t already defined:</p><div class="language-"><pre><code>/* Options:
AddResponseStatus: True
</code></pre></div><p>Will add a <code>ResponseStatus</code> property to all Response DTO&#39;s:</p><div class="language-swift"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetAllTechnologiesResponse</span>
<span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> responseStatus<span class="token punctuation">:</span><span class="token class-name">ResponseStatus</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="addimplicitversion" tabindex="-1">AddImplicitVersion <a class="header-anchor" href="#addimplicitversion" aria-hidden="true">#</a></h3><p>Lets you specify the Version number to be automatically populated in all Request DTO&#39;s sent from the client:</p><div class="language-"><pre><code>/* Options:
AddImplicitVersion: 1
</code></pre></div><p>Will add an initialized <code>version</code> property to all Request DTO&#39;s:</p><div class="language-swift"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetAllTechnologies</span> <span class="token punctuation">:</span> <span class="token class-name">IReturn</span>
<span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> version<span class="token punctuation">:</span><span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This lets you know what Version of the Service Contract that existing clients are using making it easy to implement ServiceStack&#39;s <a href="http://stackoverflow.com/a/12413091/85785" target="_blank" rel="noopener noreferrer">recommended versioning strategy</a>.</p><h3 id="initializecollections" tabindex="-1">InitializeCollections <a class="header-anchor" href="#initializecollections" aria-hidden="true">#</a></h3><p>Whether enumerables should be initialized with an empty collection (default) or changed to use an Optional type:</p><div class="language-"><pre><code>/* Options:
InitializeCollections: False
</code></pre></div><p>Changes Collection Definitions to be declared as Optional Types instead of being initialized with an empty collection:</p><div class="language-swift"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResponseStatus</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> errors<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">ResponseError</span><span class="token punctuation">]</span><span class="token operator">?</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="defaultimports" tabindex="-1">DefaultImports <a class="header-anchor" href="#defaultimports" aria-hidden="true">#</a></h3><p>Add additional import statements to the generated DTO&#39;s:</p><div class="language-"><pre><code>/* Options:
DefaultImports: UIKit,Foundation
</code></pre></div><p>Will import the <code>UIKit</code> and <code>Foundation</code> frameworks:</p><div class="language-swift"><pre><code><span class="token keyword">import</span> <span class="token class-name">UIKit</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token class-name">Foundation</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="improved-add-servicestack-reference" tabindex="-1">Improved Add ServiceStack Reference <a class="header-anchor" href="#improved-add-servicestack-reference" aria-hidden="true">#</a></h2><p>Whilst extending Add ServiceStack Reference to add support for Swift above we&#39;ve also made a number of refinements to the existing native type providers including:</p><ul><li>Improved support for nested classes</li><li>Improved support from complex generic and inherited generic type definitions</li><li>Ignored DTO properties are no longer emitted</li><li>Uncommon Language-specific configuration moved into the native type providers</li><li>New DefaultImports option available to TypeScript and Swift native types</li></ul><h3 id="new-include-and-exclude-types-option-added-to-all-languages" tabindex="-1">New Include and Exclude Types option added to all languages <a class="header-anchor" href="#new-include-and-exclude-types-option-added-to-all-languages" aria-hidden="true">#</a></h3><p>You can now control what types are generated by using <code>ExcludeTypes</code> which acts as a blacklist excluding those specific types, e.g:</p><div class="language-"><pre><code>ExcludeTypes: ResponseStatus,ResponseError
</code></pre></div><p>In contrast to ExcludeTypes, if you&#39;re only making use of a couple of Services you can use <code>IncludeTypes</code> which acts like a White-List ensuring only those specific types are generated, e.g:</p><div class="language-"><pre><code>IncludeTypes: GetTechnologyStacks,GetTechnologyStacksResponse
</code></pre></div><h3 id="globalnamespace-option-added-in-c-and-vb-net-projects" tabindex="-1">GlobalNamespace option added in C# and <a href="http://VB.NET" target="_blank" rel="noopener noreferrer">VB.NET</a> projects <a class="header-anchor" href="#globalnamespace-option-added-in-c-and-vb-net-projects" aria-hidden="true">#</a></h3><p>F#, TypeScript and Swift are limited to generating all DTO&#39;s under a single global namespace, however in most cases this is actually preferred as it strips away the unnecessary details of how the DTO&#39;s are organized on the Server (potentially across multiple dlls/namespaces) and presents them under a single configurable namespace to the client.</p><p>As it&#39;s a nice client feature, we&#39;ve also added this option to C# and <a href="http://VB.NET" target="_blank" rel="noopener noreferrer">VB.NET</a> native types as well which can be enabled by uncommenting the <code>GlobalNamespace</code> option, e.g:</p><div class="language-csharp"><pre><code><span class="token comment">/* Options:
Version: 1
BaseUrl: https://techstacks.io

GlobalNamespace: ServiceModels
...
*/</span>

<span class="token keyword">namespace</span> <span class="token namespace">ServiceModels</span>
<span class="token punctuation">{</span>
<span class="token range operator">..</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="integrated-html-css-and-javascript-minification" tabindex="-1">Integrated HTML, CSS and JavaScript Minification <a class="header-anchor" href="#integrated-html-css-and-javascript-minification" aria-hidden="true">#</a></h2><p>As part of our quest to provide a complete and productive solution for developing highly responsive Web, Desktop and Mobile Apps, ServiceStack now includes minifiers for compressing HTML, CSS and JavaScript available from the new <code>Minifiers</code> class:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> minifiedJs <span class="token operator">=</span> Minifiers<span class="token punctuation">.</span>JavaScript<span class="token punctuation">.</span><span class="token function">Compress</span><span class="token punctuation">(</span>js<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> minifiedCss <span class="token operator">=</span> Minifiers<span class="token punctuation">.</span>Css<span class="token punctuation">.</span><span class="token function">Compress</span><span class="token punctuation">(</span>css<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> minifiedHtml <span class="token operator">=</span> Minifiers<span class="token punctuation">.</span>Html<span class="token punctuation">.</span><span class="token function">Compress</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Also minify in-line CSS and JavaScript</span>
<span class="token class-name"><span class="token keyword">var</span></span> advancedMinifiedHtml <span class="token operator">=</span> Minifiers<span class="token punctuation">.</span>HtmlAdvanced<span class="token punctuation">.</span><span class="token function">Compress</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>Each minifier implements the lightweight <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Interfaces/ICompressor.cs" target="_blank" rel="noopener noreferrer">ICompressor</a> interface making it trivial to mock or subtitute with a custom implementation.</p></blockquote><h4 id="js-minifier" tabindex="-1">JS Minifier <a class="header-anchor" href="#js-minifier" aria-hidden="true">#</a></h4><p>For the JavaScript minifier we&#39;re using <a href="https://github.com/extnet/Ext.NET.Utilities/blob/master/Ext.Net.Utilities/JavaScript/JSMin.cs" target="_blank" rel="noopener noreferrer">Ext.Net&#39;s C# port</a> of Douglas Crockford&#39;s venerable <a href="http://crockford.com/javascript/jsmin" target="_blank" rel="noopener noreferrer">JSMin</a>.</p><h4 id="css-minifier" tabindex="-1">CSS Minifier <a class="header-anchor" href="#css-minifier" aria-hidden="true">#</a></h4><p>The CSS Minifer uses Mads Kristensen simple <a href="http://madskristensen.net/post/efficient-stylesheet-minification-in-c" target="_blank" rel="noopener noreferrer">CSS Minifer</a>.</p><h4 id="html-compressor" tabindex="-1">HTML Compressor <a class="header-anchor" href="#html-compressor" aria-hidden="true">#</a></h4><p>For compressing HTML we&#39;re using a <a href="http://blog.magerquark.de/c-port-of-googles-htmlcompressor-library/" target="_blank" rel="noopener noreferrer">C# Port</a> of Google&#39;s excellent <a href="https://code.google.com/p/htmlcompressor/" target="_blank" rel="noopener noreferrer">HTML Compressor</a> which we&#39;ve further modified to remove the public API&#39;s ugly Java-esque idioms and replaced them with C# properties.</p><p>The <code>HtmlCompressor</code> also includes a number of well-documented options which can be customized by configuring the available properties on its concrete type, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> htmlCompressor <span class="token operator">=</span> <span class="token punctuation">(</span>HtmlCompressor<span class="token punctuation">)</span>Minifier<span class="token punctuation">.</span>Html<span class="token punctuation">;</span>
htmlCompressor<span class="token punctuation">.</span>RemoveComments <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="easy-win-for-server-generated-websites" tabindex="-1">Easy win for server generated websites <a class="header-anchor" href="#easy-win-for-server-generated-websites" aria-hidden="true">#</a></h3><p>If your project is not based off one of our optimized Gulp/Grunt.js powered <a href="https://github.com/ServiceStack/ServiceStackVS" target="_blank" rel="noopener noreferrer">React JS and AngularJS Single Page App templates</a> or configured to use our eariler <a href="https://github.com/ServiceStack/Bundler" target="_blank" rel="noopener noreferrer">node.js-powered Bundler</a> Web Optimization solution, these built-in minifiers now offers the easiest solution to effortlessly optimize your existing website which is able to work transparently with your existing Razor Views and static <code>.js</code>, <code>.css</code> and <code>.html</code> files without requiring adding any additional external tooling or build steps to your existing development workflow.</p><h3 id="minify-dynamic-razor-views" tabindex="-1">Minify dynamic Razor Views <a class="header-anchor" href="#minify-dynamic-razor-views" aria-hidden="true">#</a></h3><p>Minification of Razor Views is easily enabled by specifying <code>MinifyHtml=true</code> when registering the <code>RazorFormat</code> plugin:</p><div class="language-csharp"><pre><code>Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">RazorFormat</span> <span class="token punctuation">{</span>
    MinifyHtml <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    UseAdvancedCompression <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Use the <code>UseAdvancedCompression=true</code> option if you also want to minify inline js/css, although as this requires a bit more processing you&#39;ll want to benchmark it to see if it&#39;s providing an overall performance benefit to end users. It&#39;s a recommended option if you&#39;re caching Razor Pages. Another solution is to minimize the use of in-line js/css and move them to static files to avoid needing in-line js/css compression.</p><h3 id="minify-static-js-css-and-html-files" tabindex="-1">Minify static <code>.js</code>, <code>.css</code> and <code>.html</code> files <a class="header-anchor" href="#minify-static-js-css-and-html-files" aria-hidden="true">#</a></h3><p>With nothing other than the new minifiers, we can leverage the flexibility in ServiceStack&#39;s <a href="/virtual-file-system">Virtual File System</a> to provide an elegant solution for minifying static <code>.html</code>, <code>.css</code> and <code>.js</code> resources by simply pre-loading a new InMemory Virtual FileSystem with minified versions of existing files and giving the Memory FS a higher precedence so any matching requests serve up the minified version first. We only need to pre-load the minified versions once on StartUp by overriding <code>GetVirtualPathProviders()</code> in the AppHost:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>IVirtualPathProvider<span class="token punctuation">&gt;</span></span> <span class="token function">GetVirtualPathProviders</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">var</span></span> existingProviders <span class="token operator">=</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">GetVirtualPathProviders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">var</span></span> memFs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">InMemoryVirtualPathProvider</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//Get existing Local FileSystem Provider</span>
    <span class="token class-name"><span class="token keyword">var</span></span> fs <span class="token operator">=</span> existingProviders<span class="token punctuation">.</span><span class="token function">First</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x <span class="token keyword">is</span> <span class="token class-name">FileSystemVirtualPathProvider</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//Process all .html files:</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> file <span class="token keyword">in</span> fs<span class="token punctuation">.</span><span class="token function">GetAllMatchingFiles</span><span class="token punctuation">(</span><span class="token string">&quot;*.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> contents <span class="token operator">=</span> Minifiers<span class="token punctuation">.</span>HtmlAdvanced<span class="token punctuation">.</span><span class="token function">Compress</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">ReadAllText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        memFs<span class="token punctuation">.</span><span class="token function">AddFile</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>VirtualPath<span class="token punctuation">,</span> contents<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//Process all .css files:</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> file <span class="token keyword">in</span> fs<span class="token punctuation">.</span><span class="token function">GetAllMatchingFiles</span><span class="token punctuation">(</span><span class="token string">&quot;*.css&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>file <span class="token operator">=&gt;</span> <span class="token operator">!</span>file<span class="token punctuation">.</span>VirtualPath<span class="token punctuation">.</span><span class="token function">EndsWith</span><span class="token punctuation">(</span><span class="token string">&quot;.min.css&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//ignore pre-minified .css</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> contents <span class="token operator">=</span> Minifiers<span class="token punctuation">.</span>Css<span class="token punctuation">.</span><span class="token function">Compress</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">ReadAllText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        memFs<span class="token punctuation">.</span><span class="token function">AddFile</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>VirtualPath<span class="token punctuation">,</span> contents<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//Process all .js files</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> file <span class="token keyword">in</span> fs<span class="token punctuation">.</span><span class="token function">GetAllMatchingFiles</span><span class="token punctuation">(</span><span class="token string">&quot;*.js&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>file <span class="token operator">=&gt;</span> <span class="token operator">!</span>file<span class="token punctuation">.</span>VirtualPath<span class="token punctuation">.</span><span class="token function">EndsWith</span><span class="token punctuation">(</span><span class="token string">&quot;.min.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//ignore pre-minified .js</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">try</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">var</span></span> js <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">ReadAllText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> contents <span class="token operator">=</span> Minifiers<span class="token punctuation">.</span>JavaScript<span class="token punctuation">.</span><span class="token function">Compress</span><span class="token punctuation">(</span>js<span class="token punctuation">)</span><span class="token punctuation">;</span>
            memFs<span class="token punctuation">.</span><span class="token function">AddFile</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>VirtualPath<span class="token punctuation">,</span> contents<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">//As JSMin is a strict subset of JavaScript, this can fail on valid JS.</span>
            <span class="token comment">//We can report exceptions in StartUpErrors so they&#39;re visible in ?debug=requestinfo</span>
            <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">OnStartupException</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Exception</span><span class="token punctuation">(</span><span class="token string">&quot;JSMin Error {0}: {1}&quot;</span><span class="token punctuation">.</span><span class="token function">Fmt</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>VirtualPath<span class="token punctuation">,</span> ex<span class="token punctuation">.</span>Message<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//Give new Memory FS the highest priority</span>
    existingProviders<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> memFs<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> existingProviders<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>A nice benefit of this approach is that it doesn&#39;t pollute your project with minified build artifacts, has excellent runtime performance with the minfied contents being served from Memory and as the file names remain the same, the links in HTML don&#39;t need to be rewritten to reference the minified versions. i.e. When a request is made it just looks through the registered virtual path providers and returns the first match, which given the Memory FS was inserted at the start of the list, returns the minified version.</p><h3 id="enabled-in-servicestack-net" tabindex="-1">Enabled in <a href="https://servicestack.net" target="_blank" rel="noopener noreferrer">servicestack.net</a> <a class="header-anchor" href="#enabled-in-servicestack-net" aria-hidden="true">#</a></h3><p>As this was an quick and non-invasive feature to add, we&#39;ve enabled it on all <a href="https://servicestack.net" target="_blank" rel="noopener noreferrer">servicestack.net</a> Razor views and static files. You can <code>view-source:https://servicestack.net/</code> (as url in Chrome, Firefox or Opera) to see an example of the resulting minified output.</p><h2 id="new-servicestack-cookbook-released" tabindex="-1">New <a href="https://www.packtpub.com/application-development/servicestack-cookbook" target="_blank" rel="noopener noreferrer">ServiceStack Cookbook</a> Released! <a class="header-anchor" href="#new-servicestack-cookbook-released" aria-hidden="true">#</a></h2><p><a href="https://www.packtpub.com/application-development/servicestack-cookbook"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/servicestack-cookbook.jpg" align="left" vspace="10" width="320" height="380"></a></p><p>A new <a href="https://www.packtpub.com/application-development/servicestack-cookbook" target="_blank" rel="noopener noreferrer">ServiceStack Cookbook</a> was just released by ThoughtWorker <a href="https://twitter.com/kylehodgson" target="_blank" rel="noopener noreferrer">@kylehodgson</a> and our own <a href="https://twitter.com/layoric" target="_blank" rel="noopener noreferrer">Darren Reid</a>.</p><p>The ServiceStack Cookbook includes over 70 recipes on creating message-based Web Services and Apps including leveraging OrmLite to build fast, testable and maintainable Web APIs - focusing on solving real-world problems that are a pleasure to create, maintain and consume with ServiceStack.</p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" width="700" height="1"><h2 id="support-for-recyclablememorystream" tabindex="-1">Support for RecyclableMemoryStream <a class="header-anchor" href="#support-for-recyclablememorystream" aria-hidden="true">#</a></h2><p>The Bing team recently <a href="http://www.philosophicalgeek.com/2015/02/06/announcing-microsoft-io-recycablememorystream/" target="_blank" rel="noopener noreferrer">opensourced their RecyclableMemoryStream</a> implementation which uses pooled, reusable byte buffers to help minimize GC pressure. To support switching to the new <code>RecyclableMemoryStream</code> we&#39;ve changed most of ServiceStack&#39;s MemoryStream usages to use the new <code>MemoryStreamFactory.GetStream()</code> API&#39;s, allowing ServiceStack to be configured to use the new <code>RecyclableMemoryStream</code> implementation with:</p><div class="language-csharp"><pre><code> MemoryStreamFactory<span class="token punctuation">.</span>UseRecyclableMemoryStream <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><p>Which now changes <code>MemoryStreamFactory.GetStream()</code> to return instances of <code>RecyclableMemoryStream</code>, e.g:</p><div class="language-csharp"><pre><code><span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> ms <span class="token operator">=</span> <span class="token punctuation">(</span>RecyclableMemoryStream<span class="token punctuation">)</span>MemoryStreamFactory<span class="token punctuation">.</span><span class="token function">GetStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre></div><blockquote><p>To reduce dependencies and be able to support PCL clients we&#39;re using an <a href="https://github.com/ServiceStack/ServiceStack.Text/blob/master/src/ServiceStack.Text/RecyclableMemoryStream.cs" target="_blank" rel="noopener noreferrer">interned and PCL-compatible version of RecyclableMemoryStream</a> in ServiceStack.Text which has its auditing features disabled.</p></blockquote><h3 id="recyclablememorystream-is-strict" tabindex="-1">RecyclableMemoryStream is strict <a class="header-anchor" href="#recyclablememorystream-is-strict" aria-hidden="true">#</a></h3><p>Whilst the announcement says <code>RecyclableMemoryStream</code> is a drop-in replacement for <code>MemoryStream</code>, this isn&#39;t strictly true as it enforces stricter rules on how you can use MemoryStreams. E.g. a common pattern when using a MemoryStream with a <code>StreamWriter</code> or <code>StreamReader</code> is, since it&#39;s also disposable, to enclose it in a nested using block as well:</p><div class="language-csharp"><pre><code><span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> ms <span class="token operator">=</span> MemoryStreamFactory<span class="token punctuation">.</span><span class="token function">GetStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> writer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">StreamWriter</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token range operator">..</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><p>But this has the effect of closing the stream twice which is fine in <code>MemoryStream</code> but throws an <code>InvalidOperationException</code> when using <code>RecyclableMemoryStream</code>. If you find this happening in your Application you can use the new <code>MemoryStreamFactory.MuteDuplicateDisposeExceptions=true</code> option we&#39;ve added as a stop-gap to mute these exceptions until you&#39;re able to update your code to prevent this.</p><h3 id="doesn-t-allow-reading-from-closed-streams" tabindex="-1">Doesn&#39;t allow reading from closed streams <a class="header-anchor" href="#doesn-t-allow-reading-from-closed-streams" aria-hidden="true">#</a></h3><p>Another gotcha when switching over to <code>RecyclableMemoryStream</code> is that once you close the Stream you&#39;ll no longer be able to read from it. This makes it incompatible to use with .NET&#39;s built-in <code>GZipStream</code> and <code>DeflateStream</code> classes which can only be read after its closed, having the effect of closing the underlying MemoryStream - preventing being able to access the compressed bytes.</p><p>Where possible we&#39;ve refactored ServiceStack to use <code>MemoryStreamFactory.GetStream()</code> and adhered to its stricter usage so ServiceStack can be switched over to use it with <code>MemoryStreamFactory.UseRecyclableMemoryStream=true</code>, although we still have some more optimization work to be able to fully take advantage of it by changing our usage of <code>ToArray()</code> to use the more optimal <code>GetBuffer()</code> and <code>Length</code> API&#39;s where possible.</p><h2 id="authentication" tabindex="-1">Authentication <a class="header-anchor" href="#authentication" aria-hidden="true">#</a></h2><ul><li>New <code>MicrosoftLiveOAuth2Provider</code> Microsoft Live OAuth2 Provider added by <a href="https://github.com/ivanfioravanti" target="_blank" rel="noopener noreferrer">@ivanfioravanti</a></li><li>New <code>InstagramOAuth2Provider</code> Instagram OAuth2 Provider added by <a href="https://github.com/ricardobrandao" target="_blank" rel="noopener noreferrer">@ricardobrandao</a></li></ul><h3 id="new-url-filters-added-to-all-authproviders" tabindex="-1">New Url Filters added to all AuthProviders <a class="header-anchor" href="#new-url-filters-added-to-all-authproviders" aria-hidden="true">#</a></h3><p>New Url Filters have been added to all AuthProvider redirects letting you inspect or customize and decorate any redirect urls that are forwarded to the remote OAuth Server or sent back to the authenticating client. The list different Url Filters available in all AuthProviders include:</p><div class="language-csharp"><pre><code><span class="token keyword">new</span> <span class="token constructor-invocation class-name">AuthProvider</span> <span class="token punctuation">{</span>
    PreAuthUrlFilter <span class="token operator">=</span> <span class="token punctuation">(</span>authProvider<span class="token punctuation">,</span> redirectUrl<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">customize</span><span class="token punctuation">(</span>redirectUrl<span class="token punctuation">)</span><span class="token punctuation">,</span>
    AccessTokenUrlFilter <span class="token operator">=</span> <span class="token punctuation">(</span>authProvider<span class="token punctuation">,</span> redirectUrl<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">customize</span><span class="token punctuation">(</span>redirectUrl<span class="token punctuation">)</span><span class="token punctuation">,</span>
    SuccessRedirectUrlFilter <span class="token operator">=</span> <span class="token punctuation">(</span>authProvider<span class="token punctuation">,</span> redirectUrl<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">customize</span><span class="token punctuation">(</span>redirectUrl<span class="token punctuation">)</span><span class="token punctuation">,</span>
    FailedRedirectUrlFilter <span class="token operator">=</span> <span class="token punctuation">(</span>authProvider<span class="token punctuation">,</span> redirectUrl<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">customize</span><span class="token punctuation">(</span>redirectUrl<span class="token punctuation">)</span><span class="token punctuation">,</span>
    LogoutUrlFilter <span class="token operator">=</span> <span class="token punctuation">(</span>authProvider<span class="token punctuation">,</span> redirectUrl<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">customize</span><span class="token punctuation">(</span>redirectUrl<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ormlite" tabindex="-1">OrmLite <a class="header-anchor" href="#ormlite" aria-hidden="true">#</a></h2><ul><li>Custom Decimal precision with <code>[DecimalLength(precision,scale)]</code> added to all OrmLite RDBMS Providers</li><li>Sqlite persists and queries DateTime&#39;s using LocalTime</li></ul><h2 id="messaging" tabindex="-1">Messaging <a class="header-anchor" href="#messaging" aria-hidden="true">#</a></h2><ul><li>Added new docs showing how to populate Session Ids to <a href="/messaging#authenticated-requests-via-mq">make authenticated MQ requests</a>.</li><li>Request/Reply MQ Requests for Services with no response will send the Request DTO back to <code>ReplyTo</code> Queue instead of the <a href="/rabbit-mq#messages-with-no-responses-are-sent-to-outq-topic">default .outq topic</a>.</li></ul><h2 id="misc" tabindex="-1">Misc <a class="header-anchor" href="#misc" aria-hidden="true">#</a></h2><ul><li>Default 404 Handler for HTML now emits Error message in page body</li><li>New <code>Dictionary&lt;string, object&gt; Items</code> were added to all Response Contexts which can be used to transfer metadata through the response pipeline</li><li><code>BufferedStream</code> is now accessible on concrete Request/Response Contexts</li><li>Added new <code>GetKeysByPattern()</code> API to <code>MemoryCacheClient</code></li><li>Allow <code>DTO.ToAbsoluteUrl()</code> extension method to support <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> requests without needing to configure <code>Config.WebHostUrl</code>. Self Hosts can use the explicit <code>DTO.ToAbsoluteUrl(IRequest)</code> API.</li><li>New <code>HostContext.TryGetCurrentRequest()</code> Singleton returns Current Request for <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> hosts, <code>null</code> for Self Hosts. <ul><li><code>HostContext.GetCurrentRequest()</code> will throw for Self Hosts which don&#39;t provide singleton access to the current HTTP Request</li></ul></li><li>Added new <code>string.CollapseWhitespace()</code> extension method to collapse multiple white-spaces into a single space.</li></ul><h3 id="using-servicestack-as-a-proxy" tabindex="-1">Using ServiceStack as a Proxy <a class="header-anchor" href="#using-servicestack-as-a-proxy" aria-hidden="true">#</a></h3><p>The new <code>Config.SkipFormDataInCreatingRequest</code> option instructs ServiceStack to skip reading from the Request&#39;s <strong>FormData</strong> on initialization (to support <code>X-Http-Method-Override</code> Header) so it avoids forced loading of the Request InputStream allowing ServiceStack to be used as a HTTP proxy with:</p><div class="language-csharp"><pre><code>RawHttpHandlers<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>_ <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">CustomActionHandler</span><span class="token punctuation">(</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">var</span></span> bytes <span class="token operator">=</span> req<span class="token punctuation">.</span>InputStream<span class="token punctuation">.</span><span class="token function">ReadFully</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span>OutputStream<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> bytes<span class="token punctuation">.</span>Length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="nuget-dependency-updates" tabindex="-1">NuGet dependency updates <a class="header-anchor" href="#nuget-dependency-updates" aria-hidden="true">#</a></h2><ul><li>Npgsql updated to 2.2.4.3</li><li>NLog updated to v3.2.0.0</li></ul><h2 id="updated-versioning-strategy" tabindex="-1">Updated Versioning Strategy <a class="header-anchor" href="#updated-versioning-strategy" aria-hidden="true">#</a></h2><p>To make it easier for developers using interim <a href="/myget">pre-release packages on MyGet</a> upgrade to the official NuGet packages once they&#39;re released, we&#39;ve started using odd version numbers (e.g <strong>v4.0.37</strong>) for pre-release MyGet builds and even numbers (e.g. <strong>v4.0.38</strong>) for official released packages on NuGet.</p><h2 id="breaking-changes" tabindex="-1">Breaking changes <a class="header-anchor" href="#breaking-changes" aria-hidden="true">#</a></h2><ul><li><code>void</code> or <code>null</code> responses return <code>204 NoContent</code> by default, can be disabled with <code>Config.Return204NoContentForEmptyResponse = false</code></li><li>Failed Auth Validations now clear the Users Session</li><li><code>ServiceExtensions.RequestItemsSessionKey</code> moved to <code>SessionFeature.RequestItemsSessionKey</code></li></ul></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><a class="link" href="https://github.com/ServiceStack/docs/edit/master/docs/releases/v4_0_38.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>Edit this page on GitHub <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-fb8d84c6><p class="last-updated" data-v-fb8d84c6 data-v-5797b537><span class="prefix" data-v-5797b537>Last Updated:</span><span class="datetime" data-v-5797b537></span></p></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"access-http-specific-features-in-services.md\":\"9eda6a6f\",\"add-servicestack-reference.md\":\"58c9893b\",\"adhoc-utils.md\":\"7baf39b5\",\"admin-ui.md\":\"4f8845cf\",\"admin-users.md\":\"93dfcb76\",\"advanced-deployment-octopus-deploy.md\":\"d77a796f\",\"advantages-of-message-based-web-services.md\":\"74874f09\",\"amazon-sqs-mq.md\":\"dd8b15bf\",\"api-design.md\":\"7bc10b7a\",\"api-explorer.md\":\"39d5e554\",\"api-first-development.md\":\"86f05ced\",\"api-key-authprovider.md\":\"1938cd03\",\"appsettings.md\":\"0613eab1\",\"architecture-overview.md\":\"faa57d23\",\"artists.md\":\"494b71db\",\"auth-anti-forgery.md\":\"f65eeca2\",\"auth-openid.md\":\"05083969\",\"auth-repository.md\":\"94f9c18d\",\"auth-restricting-services.md\":\"693957b6\",\"auth-signin-with-apple.md\":\"d6c957c9\",\"auth.md\":\"a9df947e\",\"authentication-and-authorization.md\":\"5631439d\",\"authentication-identity-aspnet.md\":\"fdaff624\",\"authentication-identity-servicestack.md\":\"66cef0a4\",\"authentication-identityserver.md\":\"0b1c750a\",\"auto-batched-requests.md\":\"b3609ed2\",\"auto-mapping.md\":\"9fa6adc7\",\"autoquery-audit-log.md\":\"a570aab8\",\"autoquery-autogen.md\":\"ed5ded3d\",\"autoquery-crud-bookings.md\":\"8d7352dc\",\"autoquery-crud.md\":\"f20e9ed7\",\"autoquery-data.md\":\"9018b11e\",\"autoquery-dynamodb.md\":\"ebf2dc89\",\"autoquery-memory.md\":\"7349552e\",\"autoquery-rdbms.md\":\"65210f6d\",\"autoquery-service.md\":\"d71b8d52\",\"autoquery.md\":\"870cbf6f\",\"aws-getting-started.md\":\"665fc44b\",\"aws-pocodynamo.md\":\"ad89268f\",\"aws.md\":\"6b832dae\",\"azure-service-bus-mq.md\":\"49d2182a\",\"azure.md\":\"226dfd74\",\"background-mq.md\":\"6cab7141\",\"benchmarks.md\":\"d1bfc18d\",\"built-in-profiling.md\":\"4cf87b2f\",\"bundling-and-minification.md\":\"cc3eee34\",\"cache-aware-clients.md\":\"83a8e5f6\",\"cacheresponse-attribute.md\":\"414f011d\",\"caching.md\":\"02e4e6b8\",\"cancellable-requests.md\":\"1103c85a\",\"clients-overview.md\":\"bad18acb\",\"code-contribution-guide.md\":\"8a44d8e0\",\"community-resources.md\":\"9d36599d\",\"compiled-razor-views.md\":\"32a8f8ea\",\"compression.md\":\"e6dd5542\",\"concurrency-model.md\":\"760fd820\",\"config-api.md\":\"d532d781\",\"contributing.md\":\"3a19e556\",\"contributors.md\":\"92a4bb5e\",\"corsfeature.md\":\"ef9d1bd1\",\"create-webservice-from-scratch.md\":\"d2924607\",\"create-your-first-webservice.md\":\"d434b280\",\"csharp-add-servicestack-reference.md\":\"b42fd92e\",\"csharp-client.md\":\"32ff3686\",\"csharp-server-events-client.md\":\"fb655f3c\",\"csv-format.md\":\"75571faf\",\"customize-http-responses.md\":\"ee2f33a8\",\"customize-json-responses.md\":\"31c417ee\",\"dart-add-servicestack-reference.md\":\"e50d49d4\",\"dart-client.md\":\"a1b0506a\",\"debugging.md\":\"9d98cf89\",\"declarative-validation.md\":\"2c4afbb1\",\"deploy-multiple-sites-to-aws.md\":\"ea82d383\",\"deploy-netcore-docker-aws-ecs.md\":\"11323888\",\"deploy-netcore-to-amazon-linux-2-ami.md\":\"3e3e5f3d\",\"design-message-based-apis.md\":\"82b148a7\",\"design-rest-services.md\":\"e5fab005\",\"do-github-action-mix-deployment.md\":\"95d7734a\",\"dotnet-new.md\":\"823d4767\",\"dotnet-tool.md\":\"8fe1fab1\",\"dump-utils.md\":\"7467ece1\",\"encrypted-messaging.md\":\"24e20f2f\",\"endpoints.md\":\"8b7a6e57\",\"error-handling.md\":\"07b7e45b\",\"explore-servicestack.md\":\"2ec5f330\",\"filter-attributes.md\":\"dc5349cd\",\"form-hijacking-prevention.md\":\"0ea762e3\",\"formats.md\":\"491f9d7f\",\"fsharp-add-servicestack-reference.md\":\"47af87b8\",\"fsharp.md\":\"127710ff\",\"github-action-templates.md\":\"5f7b3253\",\"grpc-android.md\":\"0f79f18b\",\"grpc-csharp.md\":\"793a4c50\",\"grpc-dart.md\":\"d068bbd8\",\"grpc-flutter.md\":\"30afbbdd\",\"grpc-generic.md\":\"74388fef\",\"grpc-go.md\":\"6a8c3ed4\",\"grpc-java.md\":\"8acbe495\",\"grpc-nodejs.md\":\"6697fcae\",\"grpc-php.md\":\"3c4e062b\",\"grpc-python.md\":\"a87c3b92\",\"grpc-ruby.md\":\"10e0c55a\",\"grpc-ssl.md\":\"0f2b26be\",\"grpc-swift.md\":\"7cc7185b\",\"grpc.md\":\"c9f6b444\",\"host-configuration.md\":\"c0e445f8\",\"hot-reloading.md\":\"f2d1d2f8\",\"how-to-contribute.md\":\"66bf8fc6\",\"howto-write-unit-integration-tests.md\":\"6def9444\",\"html-css-and-javascript-minification.md\":\"7e8a009e\",\"html5reportformat.md\":\"c7383196\",\"http-caching.md\":\"ba708254\",\"http-utils.md\":\"883985df\",\"iis.md\":\"4c1ef093\",\"index.md\":\"d05fb15c\",\"install-rabbitmq-windows.md\":\"b4bb9445\",\"install-redis-windows.md\":\"eb6a3998\",\"ioc.md\":\"989f3ce9\",\"jamstack-with-vitepress-servicestack.md\":\"bb129ff2\",\"jamstacks-net.md\":\"6741b397\",\"java-add-servicestack-reference.md\":\"c30fcb01\",\"java-server-events-client.md\":\"09a79ef7\",\"java.md\":\"aa51dab5\",\"javascript-add-servicestack-reference.md\":\"3d571164\",\"javascript-client.md\":\"ff2b2076\",\"javascript-server-events-client.md\":\"c4a2138a\",\"js-utils.md\":\"8c96e857\",\"json-format.md\":\"bac3fe57\",\"json-jsv-and-xml.md\":\"5276623f\",\"jsv-format.md\":\"d9aa62ad\",\"jupyter-notebooks-csharp.md\":\"4d293323\",\"jupyter-notebooks-fsharp.md\":\"e8ec8258\",\"jupyter-notebooks-python.md\":\"5c1e8af9\",\"jupyter-notebooks-reporting.md\":\"eb48f07e\",\"jupyter-notebooks.md\":\"9aac815f\",\"jwt-authprovider.md\":\"c2afe019\",\"kotlin-add-servicestack-reference.md\":\"7d957b44\",\"learning-servicestack.md\":\"f3d772fc\",\"linux-hosting-options.md\":\"f06e073f\",\"lisp-tcp-repl-server.md\":\"d25e1d5a\",\"logging.md\":\"6be25027\",\"markdown-razor.md\":\"7f0b38b4\",\"messagepack-format.md\":\"52256b13\",\"messaging.md\":\"5a61125f\",\"metadata-page.md\":\"95963060\",\"mix-github-actions-aws-ecs.md\":\"30723b9d\",\"mix-tool.md\":\"a49ff452\",\"modular-startup-legacy.md\":\"22c791c9\",\"modular-startup.md\":\"e008b0c4\",\"modularizing-services.md\":\"0b1c416b\",\"mono-repo.md\":\"5b5115d4\",\"mono.md\":\"9f9d29ee\",\"multitenancy.md\":\"42af9534\",\"mvc-integration.md\":\"865528c3\",\"myget.md\":\"97a2914d\",\"navigation.md\":\"ff35ad95\",\"netcore-deploy-rsync.md\":\"6ba8a973\",\"netcore-localhost-cert.md\":\"07ab1f24\",\"netcore-razor.md\":\"893b7d0b\",\"netcore-redis.md\":\"ba8870d4\",\"netcore-windows-desktop.md\":\"50592f78\",\"netcore.md\":\"feccd269\",\"nhibernate.md\":\"03b72694\",\"npm-new.md\":\"80763e4a\",\"nuget.md\":\"af6fd669\",\"openapi.md\":\"878a790f\",\"order-of-operations.md\":\"1945694e\",\"ormlite.md\":\"67efccb1\",\"ormlite_apis_delete.md\":\"d707d4df\",\"ormlite_apis_insert.md\":\"e6cb0f0f\",\"ormlite_apis_schema.md\":\"1f3209f5\",\"ormlite_apis_select.md\":\"2a7c9285\",\"ormlite_apis_update.md\":\"337d61fd\",\"ormlite_async-apis.md\":\"ebb4a066\",\"ormlite_autogen-t4.md\":\"c4ba0a2c\",\"ormlite_aws-rds-databases.md\":\"f77f007d\",\"ormlite_complex-type-serializers.md\":\"364eeeb5\",\"ormlite_custom-sql-features.md\":\"da020c33\",\"ormlite_custom-sql.md\":\"cd6277e8\",\"ormlite_customer-orders-example.md\":\"2310f46e\",\"ormlite_dictionary-apis.md\":\"6aa42463\",\"ormlite_dynamic-result-sets.md\":\"dd5f4f77\",\"ormlite_ensure-apis.md\":\"2bfdbe48\",\"ormlite_filters.md\":\"7c47f0b7\",\"ormlite_getting-started.md\":\"7c3d2e3b\",\"ormlite_index.md\":\"5030761d\",\"ormlite_installation.md\":\"5ab205cd\",\"ormlite_introspection.md\":\"425f3bdf\",\"ormlite_limitations.md\":\"4d499add\",\"ormlite_multi-database-connections.md\":\"3e179e2c\",\"ormlite_optimistic-concurrency.md\":\"78c251f4\",\"ormlite_ormlite-apis.md\":\"81ab0cf3\",\"ormlite_ormlite-utils.md\":\"d5cae7ab\",\"ormlite_postgres-features.md\":\"156627c1\",\"ormlite_reference-support.md\":\"921c6932\",\"ormlite_shippers-example.md\":\"738dd6a7\",\"ormlite_sql-server-features.md\":\"2f6b4a5a\",\"ormlite_stored-procedures.md\":\"365c7b2b\",\"ormlite_type-converters.md\":\"943b4532\",\"ormlite_typed-joins.md\":\"ecba8905\",\"ormlite_untyped-apis.md\":\"1c2cb57a\",\"oss.md\":\"0b8b1c6c\",\"physical-project-structure.md\":\"8ec2c203\",\"plugins.md\":\"10e9920b\",\"post-command.md\":\"522d81cd\",\"postman.md\":\"d93512cc\",\"prerequisites.md\":\"d8d48214\",\"protobuf-format.md\":\"41c13ac9\",\"proxy-feature.md\":\"bc997f88\",\"python-add-servicestack-reference.md\":\"ea27bda9\",\"rabbit-mq.md\":\"417d1f52\",\"razor-notes.md\":\"6d45e397\",\"razor-ui-controls.md\":\"f995cd31\",\"razor-views-vs-content-pages.md\":\"3f52846f\",\"real-world-performance.md\":\"5848f001\",\"redis-mq.md\":\"33d1bc92\",\"redis-server-events.md\":\"054a50d4\",\"redis.md\":\"3baa8cf8\",\"redis_async.md\":\"9d7d99d6\",\"redis_automatic-retries.md\":\"68a48e7b\",\"redis_client-managers.md\":\"1445c2ce\",\"redis_client-usage.md\":\"e3b28542\",\"redis_client.md\":\"67cddc59\",\"redis_custom-commands.md\":\"bbf7785f\",\"redis_design-nosql.md\":\"611e8650\",\"redis_index.md\":\"3b48593f\",\"redis_lua.md\":\"438fd56a\",\"redis_pubsub.md\":\"114106da\",\"redis_schemaless-migration.md\":\"d5ee1226\",\"redis_sentinel.md\":\"f46760d9\",\"redis_stats.md\":\"c6a0d47b\",\"redis_transactions.md\":\"489855dd\",\"redis_troubleshooting.md\":\"f2149c0b\",\"redis_typed-client.md\":\"8a9faddc\",\"redis_typed-transactions.md\":\"88a6045c\",\"redis_vue-desktop.md\":\"80bab15f\",\"reflection-utils.md\":\"32150e63\",\"register.md\":\"143fb0b7\",\"release-notes-history.md\":\"9f0745db\",\"release-notes-v3.md\":\"7b00d609\",\"release-notes.md\":\"7b6b9bcd\",\"releases_2016-summary.md\":\"b1d6cae0\",\"releases_index.md\":\"d5098553\",\"releases_v4_0_0.md\":\"d4f62644\",\"releases_v4_0_06.md\":\"0196246d\",\"releases_v4_0_08.md\":\"5fdeecef\",\"releases_v4_0_09.md\":\"661f2bb7\",\"releases_v4_0_10.md\":\"f39237f8\",\"releases_v4_0_11.md\":\"b84429d0\",\"releases_v4_0_12.md\":\"162cdff4\",\"releases_v4_0_15.md\":\"a35bbabd\",\"releases_v4_0_18.md\":\"54399e5c\",\"releases_v4_0_19.md\":\"62bcbfbd\",\"releases_v4_0_21.md\":\"e633a0d7\",\"releases_v4_0_22.md\":\"485d57b9\",\"releases_v4_0_23.md\":\"b21c8272\",\"releases_v4_0_24.md\":\"ddc60d2d\",\"releases_v4_0_30.md\":\"c5adf89d\",\"releases_v4_0_31.md\":\"e62520b5\",\"releases_v4_0_32.md\":\"b6903016\",\"releases_v4_0_33.md\":\"0e1870de\",\"releases_v4_0_34.md\":\"2702c055\",\"releases_v4_0_35.md\":\"8fa753c9\",\"releases_v4_0_36.md\":\"b606421d\",\"releases_v4_0_38.md\":\"1c236aa0\",\"releases_v4_0_40.md\":\"d3996a1f\",\"releases_v4_0_42.md\":\"a8872405\",\"releases_v4_0_44.md\":\"a3fe1af7\",\"releases_v4_0_46.md\":\"cb03507b\",\"releases_v4_0_48.md\":\"4a18c203\",\"releases_v4_0_50.md\":\"9281c72f\",\"releases_v4_0_52.md\":\"25db6fe7\",\"releases_v4_0_54.md\":\"9bad5b03\",\"releases_v4_0_56.md\":\"e3274a69\",\"releases_v4_0_58.md\":\"542d45d8\",\"releases_v4_0_60.md\":\"0cf7ee1f\",\"releases_v4_0_62.md\":\"b048ee5e\",\"releases_v4_5_0.md\":\"a3804d7f\",\"releases_v4_5_10.md\":\"1d5db759\",\"releases_v4_5_12.md\":\"16382474\",\"releases_v4_5_14.md\":\"b32d7155\",\"releases_v4_5_2.md\":\"e026ba7a\",\"releases_v4_5_4.md\":\"2316170c\",\"releases_v4_5_6.md\":\"e3c65935\",\"releases_v4_5_8.md\":\"8b17d787\",\"releases_v5_0_0.md\":\"c86e4ae8\",\"releases_v5_10.md\":\"3b3208fa\",\"releases_v5_11.md\":\"4b382344\",\"releases_v5_12.md\":\"eb15ed26\",\"releases_v5_13.md\":\"15687493\",\"releases_v5_1_0.md\":\"a416fd02\",\"releases_v5_2.md\":\"8525e4c4\",\"releases_v5_4.md\":\"1fd204c4\",\"releases_v5_5.md\":\"15b53ee1\",\"releases_v5_6.md\":\"e9289a65\",\"releases_v5_7.md\":\"b156e682\",\"releases_v5_8.md\":\"c8d36db0\",\"releases_v5_9.md\":\"beb0b802\",\"releases_v6.md\":\"eff1b757\",\"request-and-response-filters.md\":\"cc6556f2\",\"request-logger.md\":\"b04425e5\",\"roadmap.md\":\"2db71b7b\",\"routing.md\":\"13597755\",\"search-test.md\":\"0e1064d1\",\"self-hosting.md\":\"7f2a8de8\",\"serialization-deserialization.md\":\"41989a80\",\"server-events-grpc.md\":\"81f99777\",\"server-events.md\":\"c68e890f\",\"server-ui-controls.md\":\"14d378fe\",\"service-complexity-and-dto-roles.md\":\"3cd39796\",\"service-discovery.md\":\"d88ac0ab\",\"service-gateway.md\":\"26d05ecb\",\"service-return-types.md\":\"3342dff5\",\"servicestack-as-daemon-on-linux.md\":\"9a436b3b\",\"servicestack-client-umd.md\":\"3415273c\",\"servicestack-handler-resolution.md\":\"97541858\",\"servicestack-in-fastcgi-hosted-on-nginx.md\":\"b1739f1f\",\"servicestack-integration.md\":\"853cd750\",\"servicestack-side-by-side-with-another-web-framework.md\":\"9f9b6adc\",\"servicify.md\":\"cf97a1ac\",\"sessions.md\":\"eb4770d6\",\"silverlight-client.md\":\"dca8e523\",\"simple-deployments-to-aws.md\":\"21df0a68\",\"simple-ioc.md\":\"6802cd53\",\"sitemaps.md\":\"05e04527\",\"soap-support.md\":\"491bdcc0\",\"ss-utils-js.md\":\"cb27a914\",\"ssl-redis-azure.md\":\"3bfd2bc9\",\"starlibs.md\":\"8ae5c0a7\",\"stripe.md\":\"26e010a7\",\"studio-autoquery.md\":\"bd477462\",\"studio-users.md\":\"52251a2b\",\"studio-validation-rules.md\":\"aea69f41\",\"studio.md\":\"8f4f02eb\",\"svg.md\":\"66063443\",\"swagger-api.md\":\"dc0db2e0\",\"swift-add-servicestack-reference.md\":\"2d93f463\",\"swift.md\":\"52b5eb2b\",\"templates-angular.md\":\"2b40bfdb\",\"templates-angularjs-v15.md\":\"02b6a263\",\"templates-aspnet-empty.md\":\"9a331ede\",\"templates-aws.md\":\"b08494e0\",\"templates-blazor.md\":\"92634f6e\",\"templates-corefx.md\":\"ab6ece39\",\"templates-desktop.md\":\"16b609e6\",\"templates-dotnet-scripts.md\":\"a48f7b22\",\"templates-empty.md\":\"59946c1c\",\"templates-install-servicestackvs.md\":\"00882591\",\"templates-jamstack.md\":\"f122898b\",\"templates-lite.md\":\"d2945b09\",\"templates-nextjs.md\":\"f6494c70\",\"templates-nuxt.md\":\"1737195a\",\"templates-overview.md\":\"f418fb80\",\"templates-react.md\":\"6f0f5af8\",\"templates-single-page-apps.md\":\"6bbda565\",\"templates-spa-components.md\":\"ac41faac\",\"templates-svelte.md\":\"63d528ca\",\"templates-vue.md\":\"e46ca506\",\"templates-vuetify.md\":\"3bc1e4c1\",\"templates-webpack.md\":\"c861ee79\",\"templates-websites.md\":\"63be5d7e\",\"templates-windows-service.md\":\"aa64993d\",\"testing.md\":\"68eed8e2\",\"text.md\":\"94fbcf42\",\"text_index.md\":\"dbef5a08\",\"typescript-add-servicestack-reference.md\":\"521ca7b9\",\"typescript-server-events-client.md\":\"566e02dc\",\"validation.md\":\"1bd148c0\",\"vbnet-add-servicestack-reference.md\":\"589c24db\",\"vbnet.md\":\"8c54082b\",\"versioning.md\":\"6f1412f5\",\"view-and-template-selection.md\":\"66f0b003\",\"virtual-file-system.md\":\"8aefd6a5\",\"vue-components.md\":\"3b051d2e\",\"web-apply.md\":\"1a61abd9\",\"web-new.md\":\"127c83ea\",\"web-services.md\":\"2726cacd\",\"web-tool.md\":\"6bded680\",\"web-trouble.md\":\"a8e7f6a4\",\"webhooks.md\":\"99357217\",\"what-is-a-message-based-web-service.md\":\"ca656b23\",\"why-not-odata.md\":\"6b6d8934\",\"why-not-razor.md\":\"cda3c020\",\"why-remote-services-use-dtos.md\":\"70e94017\",\"why-servicestack.md\":\"eac23bab\",\"wire-format.md\":\"a09f6b0c\",\"world-validation.md\":\"401abdac\",\"your-first-webservice-explained.md\":\"2ac9c615\",\"ztest.md\":\"255c22ca\"}")</script>
    <!--"/assets/app.da189b1e.js"></script>
    
  --></body>
</html>