import{_ as n,a as s}from"./chunks/users-edit-default.d8eda7fe.js";import{_ as a}from"./chunks/users-edit-custom.163cf417.js";import{_ as t,c as p,o as e,a as o}from"./app.6a524bd5.js";const A='{"title":"Admin UI","description":"","frontmatter":{"slug":"admin-ui","title":"Admin UI"},"headers":[{"level":2,"title":"Installation","slug":"installation"},{"level":2,"title":"Managing Users","slug":"managing-users"},{"level":2,"title":"Customization","slug":"customization"},{"level":3,"title":"Custom User Form Layout","slug":"custom-user-form-layout"}],"relativePath":"admin-ui.md"}',c={},u=o(`<p>Admin UI provides user management functionality at <code>/admin-ui</code> path when the <code>AdminUsersFeature</code> plugin is added to your application.</p><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-hidden="true">#</a></h2><div class="language-csharp"><pre><code>Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">AdminUsersFeature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><a href="https://blazor-wasm-api.jamstacks.net/admin-ui"><h3 class="text-center font-medium text-3xl mb-3">/admin-ui</h3><div class="block p-4 rounded shadow hover:shadow-lg"><img src="`+n+'"></div></a><p>By default, it also shows some simple API stats on your Admin UI dashboard, linked to the <a href="./api-explorer.html">API Explorer</a>.</p><p>The Admin UI was designed with room to grow. You can let us know what features you would find most valuable on our <a href="https://github.com/ServiceStack/Discuss/discussions/2" target="_blank" rel="noopener noreferrer">GitHub Discussions</a>.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>An <code>IAuthRepository</code> is required to be a registered dependency to use the <code>AdminUsersFeature</code> plugin.</p></div><h2 id="managing-users" tabindex="-1">Managing Users <a class="header-anchor" href="#managing-users" aria-hidden="true">#</a></h2><p>By default, the Add and Edit Users forms contains the default layout of common properties in <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/UserAuth.cs" target="_blank" rel="noopener noreferrer">UserAuth.cs</a></p><div class="flex justify-center py-8"><a href="https://blazor-wasm-api.jamstacks.net/admin-ui/users?edit=2"><img src="'+s+`" style="max-width:800px;"></a></div><h2 id="customization" tabindex="-1">Customization <a class="header-anchor" href="#customization" aria-hidden="true">#</a></h2><p>To customize this user interface to accommodate custom properties, the <code>UserFormLayout</code> needs to be overridden.</p><p>For example, below we have a custom <code>UserAuth</code> called <code>AppUser</code> with additional properties.</p><div class="language-csharp"><pre><code><span class="token comment">// Custom User Table with extended Metadata properties</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppUser</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">UserAuth</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">Department</span> Department <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> ProfileUrl <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> LastLoginIp <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> IsArchived <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">DateTime<span class="token punctuation">?</span></span> ArchivedDate <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name">DateTime<span class="token punctuation">?</span></span> LastLoginDate <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Department</span>
<span class="token punctuation">{</span>
    None<span class="token punctuation">,</span>
    Marketing<span class="token punctuation">,</span>
    Accounts<span class="token punctuation">,</span>
    Legal<span class="token punctuation">,</span>
    HumanResources<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The <code>AdminUsersFeature</code> has multiple fiends that can be used to customize the UI including.</p><table><thead><tr><th>Property Name</th><th>Description</th></tr></thead><tbody><tr><td><code>QueryUserAuthProperties</code></td><td>Columns visible in query results for users.</td></tr><tr><td><code>QueryMediaRules</code></td><td>Which columns <em>start</em> appearing at different screen sizes.</td></tr><tr><td><code>UserFormLayout</code></td><td>Control which fields are used for Create/Edit and their placement.</td></tr></tbody></table><h3 id="custom-user-form-layout" tabindex="-1">Custom User Form Layout <a class="header-anchor" href="#custom-user-form-layout" aria-hidden="true">#</a></h3><p>Similar to the <a href="./api-explorer.html#formlayout">API Explorer</a> <code>FormLayout</code> customization, <code>UserFormLayout</code> is used to control placement and details about individual fields.</p><div class="language-csharp"><pre><code>appHost<span class="token punctuation">.</span>Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ServiceStack<span class="token punctuation">.</span>Admin<span class="token punctuation">.</span>AdminUsersFeature</span> <span class="token punctuation">{</span>
    <span class="token comment">// Show custom fields in Search Results</span>
    QueryUserAuthProperties <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">nameof</span><span class="token punctuation">(</span>AppUser<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">nameof</span><span class="token punctuation">(</span>AppUser<span class="token punctuation">.</span>Email<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">nameof</span><span class="token punctuation">(</span>AppUser<span class="token punctuation">.</span>DisplayName<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">nameof</span><span class="token punctuation">(</span>AppUser<span class="token punctuation">.</span>Department<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">nameof</span><span class="token punctuation">(</span>AppUser<span class="token punctuation">.</span>CreatedDate<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">nameof</span><span class="token punctuation">(</span>AppUser<span class="token punctuation">.</span>LastLoginDate<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    QueryMediaRules <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        MediaRules<span class="token punctuation">.</span>ExtraSmall<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Show</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> x<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> x<span class="token punctuation">.</span>Email<span class="token punctuation">,</span> x<span class="token punctuation">.</span>DisplayName <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        MediaRules<span class="token punctuation">.</span>Small<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Show</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Department<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// Add Custom Fields to Create/Edit User Forms</span>
    FormLayout <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Email<span class="token punctuation">,</span> x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Type <span class="token operator">=</span> Input<span class="token punctuation">.</span>Types<span class="token punctuation">.</span>Email<span class="token punctuation">)</span><span class="token punctuation">,</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>DisplayName<span class="token punctuation">)</span><span class="token punctuation">,</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>UserName<span class="token punctuation">)</span><span class="token punctuation">,</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Company<span class="token punctuation">,</span>      c <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span><span class="token function">FieldsPerRow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Department<span class="token punctuation">,</span>   c <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span><span class="token function">FieldsPerRow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>PhoneNumber<span class="token punctuation">,</span>  c <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span>Type <span class="token operator">=</span> Input<span class="token punctuation">.</span>Types<span class="token punctuation">.</span>Tel<span class="token punctuation">)</span><span class="token punctuation">,</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Nickname<span class="token punctuation">,</span>     c <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            c<span class="token punctuation">.</span>Help <span class="token operator">=</span> <span class="token string">&quot;Public alias (3-12 lower alpha numeric chars)&quot;</span><span class="token punctuation">;</span>
            c<span class="token punctuation">.</span>Pattern <span class="token operator">=</span> <span class="token string">&quot;^[a-z][a-z0-9_.-]{3,12}$&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>ProfileUrl<span class="token punctuation">,</span>   c <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span>Type <span class="token operator">=</span> Input<span class="token punctuation">.</span>Types<span class="token punctuation">.</span>Url<span class="token punctuation">)</span><span class="token punctuation">,</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>IsArchived<span class="token punctuation">,</span>   c <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span><span class="token function">FieldsPerRow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        Input<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">For</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppUser<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>ArchivedDate<span class="token punctuation">,</span> c <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span><span class="token function">FieldsPerRow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Enabling the use of custom properties as well as formatting for ease of use. <code>UserFormLayout</code> updates the <code>Create</code> and <code>Edit</code> screens in the Admin UI.</p><div class="flex justify-center py-8"><a href="https://blazor-wasm-api.jamstacks.net/admin-ui/users?edit=2"><img src="`+a+'" style="max-width:800px;"></a></div>',21),l=[u];function i(r,k,d,m,h,g){return e(),p("div",null,l)}var U=t(c,[["render",i]]);export{A as __pageData,U as default};
